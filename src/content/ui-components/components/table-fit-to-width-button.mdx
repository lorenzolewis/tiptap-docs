---
title: Table Fit to Width Button
meta:
  title: Table Fit to Width Button | Tiptap UI Components
  description: A button component for making tables expand to fit their container width by clearing fixed column widths.
  category: UI Components
component:
  name: Table Fit to Width Button
  description: A button component for adjusting table width to fit its container.
  type: component
  isFree: false
  isCloud: false
  isOpen: false
  isNew: true
  icon: TableIcon
tags:
  - type: start
---

import { CodeDemo } from '@/components/CodeDemo'

A button component for making tables expand to fit their container width in Tiptap editors. This component sets the table width to 100% and clears cell-level column width attributes, allowing the table to adapt fluidly to its container.

<CodeDemo
  isScrollable
  src="https://template.tiptap.dev/preview/tiptap-ui/table-fit-to-width-button"
/>

## Installation

Add the component via the Tiptap CLI:

```bash
npx @tiptap/cli@latest add table-fit-to-width-button
```

## Components

### `<TableFitToWidthButton />`

A prebuilt button component for fitting tables to container width.

#### Usage

```tsx
import { TableFitToWidthButton } from '@/registry/tiptap-ui/table-fit-to-width-button'

function MyFitButton() {
  return <TableFitToWidthButton editor={editor} />
}
```

### Props

| Name                  | Type             | Default     | Description                                                |
| --------------------- | ---------------- | ----------- | ---------------------------------------------------------- |
| `editor`              | `Editor \| null` | `undefined` | The Tiptap editor instance. Uses context if omitted        |
| `hideWhenUnavailable` | `boolean`        | `false`     | Hide the button when the action isn't currently possible   |
| `onWidthAdjusted`     | `() => void`     | `undefined` | Callback function called after successful width adjustment |
| `text`                | `string`         | `undefined` | Optional text to display alongside the icon                |
| `...buttonProps`      | `ButtonProps`    | -           | All other props from the base Button component             |

## Hook

### `useTableFitToWidth(config)`

For custom button implementations, use the hook directly:

#### Usage

```tsx
import { useTableFitToWidth } from '@/registry/tiptap-ui/table-fit-to-width-button'

function CustomFitButton() {
  const { isVisible, canFitToWidth, handleFitToWidth, label, Icon } = useTableFitToWidth({
    hideWhenUnavailable: true,
  })

  if (!isVisible) return null

  return (
    <button onClick={handleFitToWidth} disabled={!canFitToWidth}>
      <Icon />
      {label}
    </button>
  )
}
```

### Hook Configuration

The `UseTableFitToWidthConfig` interface supports the following options:

| Name                  | Type             | Default     | Description                                                |
| --------------------- | ---------------- | ----------- | ---------------------------------------------------------- |
| `editor`              | `Editor \| null` | `undefined` | The Tiptap editor instance. Uses context if omitted        |
| `hideWhenUnavailable` | `boolean`        | `false`     | Hide when the action isn't currently possible              |
| `onWidthAdjusted`     | `() => void`     | `undefined` | Callback function called after successful width adjustment |

### Hook Return Values

| Name               | Type                  | Description                                      |
| ------------------ | --------------------- | ------------------------------------------------ |
| `isVisible`        | `boolean`             | Whether the button should be shown               |
| `canFitToWidth`    | `boolean`             | Whether the action can currently execute         |
| `handleFitToWidth` | `() => void`          | Function to execute the fit-to-width operation   |
| `label`            | `string`              | Accessible label for the button ("Fit to width") |
| `Icon`             | `React.ComponentType` | The horizontal move icon component               |

## Usage Examples

### Standalone Button

```tsx
'use client'

import { EditorContent, useEditor } from '@tiptap/react'
import { StarterKit } from '@tiptap/starter-kit'
import { TableKit } from '@/registry/tiptap-node/table-node/table-node-extension'
import { TableHandle as TableHandleExtension } from '@/registry/tiptap-extension/table-handle'
import { TableFitToWidthButton } from '@/registry/tiptap-ui/table-fit-to-width-button'

export const StandaloneExample = () => {
  const editor = useEditor({
    extensions: [StarterKit, TableKit, TableHandleExtension],
    content: `
      <h2>Table Width Control</h2>
      <p>Click the button below to make the table expand to full container width.</p>
      <table>
        <tbody>
          <tr>
            <th><p><strong>Product</strong></p></th>
            <th><p><strong>Price</strong></p></th>
            <th><p><strong>Stock</strong></p></th>
          </tr>
          <tr>
            <td><p>Laptop</p></td>
            <td><p>$999</p></td>
            <td><p>25</p></td>
          </tr>
          <tr>
            <td><p>Phone</p></td>
            <td><p>$699</p></td>
            <td><p>50</p></td>
          </tr>
        </tbody>
      </table>
    `,
  })

  return (
    <div>
      <EditorContent editor={editor} />
      <div style={{ marginTop: 10 }}>
        <TableFitToWidthButton editor={editor} text="Fit to Container Width" />
      </div>
    </div>
  )
}
```

### With Callback

```tsx
'use client'

import { useCallback } from 'react'
import { EditorContent, useEditor } from '@tiptap/react'
import { StarterKit } from '@tiptap/starter-kit'
import { TableKit } from '@/registry/tiptap-node/table-node/table-node-extension'
import { TableHandle as TableHandleExtension } from '@/registry/tiptap-extension/table-handle'
import { TableFitToWidthButton } from '@/registry/tiptap-ui/table-fit-to-width-button'

export const CallbackExample = () => {
  const editor = useEditor({
    extensions: [StarterKit, TableKit, TableHandleExtension],
    content: `
      <table>
        <tbody>
          <tr>
            <td><p>Cell 1</p></td>
            <td><p>Cell 2</p></td>
            <td><p>Cell 3</p></td>
          </tr>
          <tr>
            <td><p>Cell 4</p></td>
            <td><p>Cell 5</p></td>
            <td><p>Cell 6</p></td>
          </tr>
        </tbody>
      </table>
    `,
  })

  const handleWidthAdjusted = useCallback(() => {
    console.log('Table width adjusted to fit container')
  }, [])

  return (
    <div>
      <EditorContent editor={editor} />
      <TableFitToWidthButton
        editor={editor}
        onWidthAdjusted={handleWidthAdjusted}
        hideWhenUnavailable={true}
        text="Fit to Width"
      />
    </div>
  )
}
```

### Using Hook with Custom Button

```tsx
'use client'

import { useTableFitToWidth } from '@/registry/tiptap-ui/table-fit-to-width-button'

function CustomFitControls() {
  const fitToWidth = useTableFitToWidth({
    hideWhenUnavailable: true,
    onWidthAdjusted: () => console.log('Width adjusted!'),
  })

  if (!fitToWidth.isVisible) return null

  return (
    <div>
      <button
        onClick={fitToWidth.handleFitToWidth}
        disabled={!fitToWidth.canFitToWidth}
        aria-label={fitToWidth.label}
      >
        <fitToWidth.Icon />
        {fitToWidth.label}
      </button>
    </div>
  )
}
```

## Behavior

### Fit to Width Operation

The fit-to-width operation performs two key actions:

1. **Sets table width to 100%** - Updates the table's `width` attribute to `"100%"` so it expands to fill its container
2. **Clears column widths** - Removes all cell-level `colwidth` attributes from table cells and headers, allowing columns to resize fluidly

### Implementation Details

The operation:

1. **Finds the table** - Walks up the document tree from the current selection to locate the nearest table ancestor
2. **Updates table attribute** - Uses `editor.commands.updateAttributes("table", { width: "100%" })` to set the table width
3. **Clears cell widths** - Creates a transaction that iterates through all table cells and headers, clearing their `colwidth` attributes
4. **Dispatches changes** - Applies the transaction if any changes were made

```typescript
// Simplified implementation
editor.commands.updateAttributes('table', {
  width: '100%',
})

// Clear cell-level column widths
node.descendants((child, childPos) => {
  if (child.type.name === 'tableCell' || child.type.name === 'tableHeader') {
    if (child.attrs.colwidth) {
      tr.setNodeMarkup(absolutePos, undefined, {
        ...child.attrs,
        colwidth: null,
      })
    }
  }
})
```

### Availability

The action is available when:

- The editor is editable
- Required extensions (`table` and `tableHandle`) are available
- The current selection is inside a table (active in `table`, `tableCell`, or `tableHeader`)

The action is **not available** when:

- The editor is not editable
- The cursor is outside a table
- Required extensions are missing

### Effect on Table Layout

**Before fitting to width:**

- Table may have fixed width (e.g., `width="500px"`)
- Columns may have specific `colwidth` values
- Table might not use full container width

**After fitting to width:**

- Table has `width="100%"`
- All `colwidth` attributes are cleared
- Table expands to fill its container
- Columns resize proportionally based on content

## Requirements

### Dependencies

- `@tiptap/react` - Core Tiptap React integration
- `react` - React framework

### Required Extensions

- `table` - Table node extension (TableKit) for updating table attributes
- `tableHandle` - Table handle extension for table tooling

### Required Components

- `Button` (UI primitive) - Base button component

### Referenced Utilities

- `useTiptapEditor` (hook) - Custom hook for editor instance management
- `tiptap-utils` (lib) - Utility functions:
  - `isExtensionAvailable` - Check if an extension is available

## Related Components

- **[Table Handle](/ui-components/components/table-handle)** - For hover-based table manipulation
- **[Table Node (TableKit)](/ui-components/node-components/table-node)** - The core table node extension that provides the `width` attribute
- **Table Handle Extension** - Required extension for table tooling
- **Table Column Resize** - For manually adjusting column widths (opposite operation)
