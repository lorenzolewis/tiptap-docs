---
title: Table Sort Row/Column Button
meta:
  title: Table Sort Row/Column Button | Tiptap UI Components
  description: A button component and hook for sorting table rows and columns alphabetically in Tiptap editors, with automatic header preservation and intelligent sorting logic.
  category: UI Components
component:
  name: Table Sort Row/Column Button
  description: A prebuilt button component and hook for sorting table rows and columns with header preservation.
  type: component
  isFree: false
  isCloud: false
  isOpen: false
  isNew: true
  icon: TableIcon
tags:
  - type: start
---

import { CodeDemo } from '@/components/CodeDemo'

A button component and custom hook for sorting table rows and columns alphabetically in Tiptap editors. Automatically preserves header cells while sorting data cells, with support for both ascending (A-Z) and descending (Z-A) sorting.

<CodeDemo
  isScrollable
  src="https://template.tiptap.dev/preview/tiptap-ui/table-sort-row-column-button"
/>

## Installation

Add the component via the Tiptap CLI:

```bash
npx @tiptap/cli@latest add table-sort-row-column-button
```

## Components

### `<TableSortRowColumnButton />`

A prebuilt button component for triggering row/column sort operations.

#### Usage

```tsx
import { TableSortRowColumnButton } from '@/registry/tiptap-ui/table-sort-row-column-button'

function MySortButton() {
  return <TableSortRowColumnButton editor={editor} index={0} orientation="column" direction="asc" />
}
```

### Props

| Name                  | Type             | Default      | Description                                                                |
| --------------------- | ---------------- | ------------ | -------------------------------------------------------------------------- |
| `editor`              | `Editor \| null` | `undefined`  | The Tiptap editor instance                                                 |
| `index`               | `number`         | `undefined`  | The index of the row or column to sort. If omitted, uses current selection |
| `orientation`         | `Orientation`    | `undefined`  | Whether sorting a "row" or "column". If omitted, uses current selection    |
| `tablePos`            | `number`         | `undefined`  | The position of the table in the document                                  |
| `direction`           | `SortDirection`  | **required** | The sort direction: "asc" (A-Z) or "desc" (Z-A)                            |
| `hideWhenUnavailable` | `boolean`        | `false`      | Hide the button when sorting isn't currently possible                      |
| `onSorted`            | `() => void`     | `undefined`  | Callback function called after a successful sort                           |
| `text`                | `string`         | `undefined`  | Optional text to display alongside the icon                                |
| `...buttonProps`      | `ButtonProps`    | -            | All other props from the base Button component                             |

## Hook

### `useTableSortRowColumn()`

A custom React hook that provides the sorting functionality and state management. Use this for custom button implementations.

#### Usage

```tsx
import { useTableSortRowColumn } from '@/registry/tiptap-ui/table-sort-row-column-button'

function CustomSortButton() {
  const { isVisible, handleSort, label, canSortRowColumn, Icon } = useTableSortRowColumn({
    direction: 'asc',
    hideWhenUnavailable: true,
  })

  if (!isVisible) return null

  return (
    <button onClick={handleSort} disabled={!canSortRowColumn}>
      <Icon />
      {label}
    </button>
  )
}
```

### Hook Configuration

| Name                  | Type             | Default      | Description                                                                |
| --------------------- | ---------------- | ------------ | -------------------------------------------------------------------------- |
| `editor`              | `Editor \| null` | `undefined`  | The Tiptap editor instance. Uses context if omitted                        |
| `index`               | `number`         | `undefined`  | The index of the row or column to sort. If omitted, uses current selection |
| `orientation`         | `Orientation`    | `undefined`  | Whether sorting a "row" or "column". If omitted, uses current selection    |
| `tablePos`            | `number`         | `undefined`  | The position of the table in the document                                  |
| `direction`           | `SortDirection`  | **required** | The sort direction: "asc" (A-Z) or "desc" (Z-A)                            |
| `hideWhenUnavailable` | `boolean`        | `false`      | Hide when sorting isn't currently possible                                 |
| `onSorted`            | `() => void`     | `undefined`  | Callback function called after a successful sort                           |

### Hook Return Values

| Name               | Type                  | Description                                            |
| ------------------ | --------------------- | ------------------------------------------------------ |
| `isVisible`        | `boolean`             | Whether the button should be shown                     |
| `handleSort`       | `() => void`          | Function to execute the sort operation                 |
| `label`            | `string`              | Accessible label for the button (e.g., "Sort row A-Z") |
| `canSortRowColumn` | `boolean`             | Whether sorting is currently possible                  |
| `Icon`             | `React.ComponentType` | The appropriate icon component for the sort direction  |

## Usage Examples

### Standalone Button

```tsx
'use client'

import { EditorContent, useEditor } from '@tiptap/react'
import { StarterKit } from '@tiptap/starter-kit'
import { TableKit } from '@/registry/tiptap-node/table-node/table-node-extension'
import { TableHandle as TableHandleExtension } from '@/registry/tiptap-extension/table-handle'
import { TableSortRowColumnButton } from '@/registry/tiptap-ui/table-sort-row-column-button'

export const StandaloneExample = () => {
  const editor = useEditor({
    extensions: [StarterKit, TableKit, TableHandleExtension],
    content: `
      <table>
        <tbody>
          <tr>
            <th><p><strong>Name</strong></p></th>
            <th><p><strong>Category</strong></p></th>
          </tr>
          <tr>
            <td><p>Laptop</p></td>
            <td><p>Electronics</p></td>
          </tr>
          <tr>
            <td><p>Desk Chair</p></td>
            <td><p>Furniture</p></td>
          </tr>
          <tr>
            <td><p>Coffee Maker</p></td>
            <td><p>Appliances</p></td>
          </tr>
        </tbody>
      </table>
    `,
  })

  return (
    <div>
      <EditorContent editor={editor} />
      <div style={{ marginTop: 10 }}>
        <TableSortRowColumnButton
          editor={editor}
          index={0}
          orientation="column"
          direction="asc"
          text="Sort First Column A-Z"
        />
        <TableSortRowColumnButton
          editor={editor}
          index={0}
          orientation="column"
          direction="desc"
          text="Sort First Column Z-A"
        />
      </div>
    </div>
  )
}
```

### With Table Handle Integration

```tsx
'use client'

import { useCallback, useMemo, useState } from 'react'
import { EditorContent, EditorContext, useEditor } from '@tiptap/react'
import { StarterKit } from '@tiptap/starter-kit'
import { TableKit } from '@/registry/tiptap-node/table-node/table-node-extension'
import { TableHandle as TableHandleExtension } from '@/registry/tiptap-extension/table-handle'
import { useTableSortRowColumn } from '@/registry/tiptap-ui/table-sort-row-column-button'
import { TableHandle } from '@/registry/tiptap-ui/table-handle'
import type { TableHandleButtonProps } from '@/registry/tiptap-ui/table-handle'
import { Button } from '@/registry/tiptap-ui-primitive/button'
import {
  Menu,
  MenuButton,
  MenuContent,
  MenuGroup,
  MenuItem,
} from '@/registry/tiptap-ui-primitive/menu'
import { Combobox, ComboboxList } from '@/registry/tiptap-ui-primitive/combobox'
import { MoreVerticalIcon } from '@/registry/tiptap-icons/more-vertical-icon'
import type { Orientation } from '@/registry/lib/tiptap-table-utils'

const MENU_PLACEMENT_MAP: Record<Orientation, React.ComponentProps<typeof Menu>['placement']> = {
  row: 'top-start',
  column: 'bottom-start',
}

export const TableHandleIntegrationExample = () => {
  const editor = useEditor({
    immediatelyRender: false,
    extensions: [StarterKit, TableKit, TableHandleExtension],
    content: `
      <h2>Table Sort Row/Column Demo</h2>
      <p>Hover over the table to see handle buttons. Click the menu to access sorting options.</p>
      <table>
        <tbody>
          <tr>
            <th><p><strong>Product</strong></p></th>
            <th><p><strong>Category</strong></p></th>
            <th><p><strong>Price</strong></p></th>
            <th><p><strong>Rating</strong></p></th>
          </tr>
          <tr>
            <td><p>Wireless Mouse</p></td>
            <td><p>Electronics</p></td>
            <td><p>$29.99</p></td>
            <td><p>4.5</p></td>
          </tr>
          <tr>
            <td><p>Office Desk</p></td>
            <td><p>Furniture</p></td>
            <td><p>$199.99</p></td>
            <td><p>4.2</p></td>
          </tr>
          <tr>
            <td><p>Keyboard</p></td>
            <td><p>Electronics</p></td>
            <td><p>$79.99</p></td>
            <td><p>4.7</p></td>
          </tr>
        </tbody>
      </table>
    `,
  })

  return (
    <EditorContext.Provider value={{ editor }}>
      <EditorContent editor={editor} className="control-showcase" />
      <TableHandle rowButton={SortMenu} columnButton={SortMenu} />
    </EditorContext.Provider>
  )
}

function SortMenu(props: TableHandleButtonProps) {
  const { editor, index, tablePos, orientation, onToggleOtherHandle } = props
  const [isMenuOpen, setIsMenuOpen] = useState(false)

  const sortAscAction = useTableSortRowColumn({
    index,
    tablePos,
    orientation,
    direction: 'asc',
  })

  const sortDescAction = useTableSortRowColumn({
    index,
    tablePos,
    orientation,
    direction: 'desc',
  })

  const sortActions = useMemo(
    () => ({
      sortAsc: sortAscAction,
      sortDesc: sortDescAction,
    }),
    [sortAscAction, sortDescAction],
  )

  const getSortItems = useCallback(() => {
    const items: Array<{
      icon: React.ComponentType<any>
      label: string
      disabled: boolean
      onClick: () => void
    }> = []

    if (sortActions.sortAsc.isVisible) {
      items.push({
        icon: sortActions.sortAsc.Icon,
        label: sortActions.sortAsc.label,
        disabled: !sortActions.sortAsc.canSortRowColumn,
        onClick: sortActions.sortAsc.handleSort,
      })
    }

    if (sortActions.sortDesc.isVisible) {
      items.push({
        icon: sortActions.sortDesc.Icon,
        label: sortActions.sortDesc.label,
        disabled: !sortActions.sortDesc.canSortRowColumn,
        onClick: sortActions.sortDesc.handleSort,
      })
    }

    return items
  }, [sortActions])

  const menuPlacement = useMemo(() => MENU_PLACEMENT_MAP[orientation], [orientation])

  const handleMenuToggle = useCallback(
    (isOpen: boolean) => {
      setIsMenuOpen(isOpen)

      if (isOpen) {
        editor.commands.freezeHandles()
        onToggleOtherHandle?.(false)
      } else {
        editor.commands.unfreezeHandles()
        onToggleOtherHandle?.(true)
      }
    },
    [editor, onToggleOtherHandle],
  )

  return (
    <Menu
      open={isMenuOpen}
      onOpenChange={handleMenuToggle}
      placement={menuPlacement}
      trigger={
        <MenuButton
          className={`tiptap-table-handle-menu ${isMenuOpen ? 'menu-opened' : ''} ${orientation}`}
        >
          <MoreVerticalIcon className="tiptap-button-icon" />
        </MenuButton>
      }
    >
      <MenuContent autoFocusOnShow modal>
        <Combobox style={{ position: 'absolute', left: '-9999px' }} />
        <ComboboxList>
          <MenuGroup>
            {getSortItems().map((item) => (
              <MenuItem
                key={item.label}
                render={
                  <Button data-style="ghost" disabled={item.disabled}>
                    <item.icon className="tiptap-button-icon" />
                    <span className="tiptap-button-text">{item.label}</span>
                  </Button>
                }
                onClick={item.onClick}
              />
            ))}
          </MenuGroup>
        </ComboboxList>
      </MenuContent>
    </Menu>
  )
}
```

### Custom Hook Usage

```tsx
'use client'

import { useTableSortRowColumn } from '@/registry/tiptap-ui/table-sort-row-column-button'

function CustomSortControls({ editor }: { editor: Editor | null }) {
  const sortAsc = useTableSortRowColumn({
    editor,
    direction: 'asc',
    hideWhenUnavailable: true,
    onSorted: () => console.log('Sorted A-Z!'),
  })

  const sortDesc = useTableSortRowColumn({
    editor,
    direction: 'desc',
    hideWhenUnavailable: true,
    onSorted: () => console.log('Sorted Z-A!'),
  })

  return (
    <div>
      {sortAsc.isVisible && (
        <button
          onClick={sortAsc.handleSort}
          disabled={!sortAsc.canSortRowColumn}
          aria-label={sortAsc.label}
        >
          <sortAsc.Icon />
          {sortAsc.label}
        </button>
      )}
      {sortDesc.isVisible && (
        <button
          onClick={sortDesc.handleSort}
          disabled={!sortDesc.canSortRowColumn}
          aria-label={sortDesc.label}
        >
          <sortDesc.Icon />
          {sortDesc.label}
        </button>
      )}
    </div>
  )
}
```

## Behavior

### Header Preservation

The component **automatically detects and preserves header cells** during sorting:

- Header cells remain in their original positions
- Only data cells (non-headers) are sorted
- This ensures table structure integrity

#### Example:

**Before sorting column by Name (A-Z):**

```
| Name (header)  | Age (header) |
| Zebra          | 25           |
| Apple          | 30           |
```

**After sorting:**

```
| Name (header)  | Age (header) |  ← Headers stay in place
| Apple          | 30           |  ← Data sorted
| Zebra          | 25           |
```

### Row vs Column Sorting

**Column sorting** (most common):

- Sorts all rows based on the values in a specific column
- Header row (if present) stays at the top
- Data rows are reordered

**Row sorting**:

- Sorts all columns based on the values in a specific row
- Header column (if present) stays in place
- Data columns are reordered

## Requirements

### Dependencies

- `@tiptap/react` - Core Tiptap React integration
- `@tiptap/pm/model` - ProseMirror document model
- `react` - React framework

### Required Extensions

- `tableHandle` - Table handle extension for detecting row/column context

### Required Components (for full example)

- `table` - Table node extension (TableKit)
- `Button` (UI primitive) - Base button component
- `Menu`, `MenuButton`, `MenuContent`, `MenuItem` (UI primitives) - Menu components
- `TableHandle` - For hover-based table manipulation

### Referenced Utilities

- `useTiptapEditor` (hook) - Custom hook for editor instance management
- `tiptap-table-utils` (lib) - Utility functions:
  - `getTable` - Get table node information
  - `getTableSelectionType` - Determine selection type
  - `getRowOrColumnCells` - Get cells in a row or column
  - `isCellEmpty` - Check if cell has content
- `tiptap-utils` (lib) - `isExtensionAvailable` for checking extension availability

## Related Components

- **Table Handle** - For hover-based row/column manipulation
- **Table Move Row/Column Button** - For reordering rows and columns
- **Table Delete Row/Column Button** - For deleting rows and columns
- **Table Duplicate Row/Column Button** - For duplicating rows and columns
- **Table Node (TableKit)** - The core table node extension
- **Table Handle Extension** - Required extension for context detection
