---
title: Table Delete Row/Column Button
meta:
  title: Table Delete Row/Column Button | Tiptap UI Components
  description: A button component and hook for deleting table rows and columns in Tiptap editors, with intelligent validation to prevent structural issues.
  category: UI Components
component:
  name: Table Delete Row/Column Button
  description: A prebuilt button component and hook for deleting table rows and columns.
  type: component
  isFree: false
  isCloud: false
  isOpen: false
  isNew: true
  icon: TableIcon
tags:
  - type: start
---

import { CodeDemo } from '@/components/CodeDemo'

A button component and custom hook for deleting table rows and columns in Tiptap editors. Supports row and column deletion with intelligent validation to ensure table structure integrity.

<CodeDemo
  isScrollable
  src="https://template.tiptap.dev/preview/tiptap-ui/table-delete-row-column-button"
/>

## Installation

Add the component via the Tiptap CLI:

```bash
npx @tiptap/cli@latest add table-delete-row-column-button
```

## Components

### `<TableDeleteRowColumnButton />`

A prebuilt button component for triggering row/column deletion operations.

#### Usage

```tsx
import { TableDeleteRowColumnButton } from '@/registry/tiptap-ui/table-delete-row-column-button'

function MyDeleteButton() {
  return <TableDeleteRowColumnButton editor={editor} index={0} orientation="row" />
}
```

### Props

| Name                  | Type             | Default     | Description                                                                  |
| --------------------- | ---------------- | ----------- | ---------------------------------------------------------------------------- |
| `editor`              | `Editor \| null` | `undefined` | The Tiptap editor instance                                                   |
| `index`               | `number`         | `undefined` | The index of the row or column to delete. If omitted, uses current selection |
| `orientation`         | `Orientation`    | `undefined` | Whether deleting a "row" or "column". Uses context if omitted                |
| `tablePos`            | `number`         | `undefined` | The position of the table in the document                                    |
| `hideWhenUnavailable` | `boolean`        | `false`     | Hide the button when deletion isn't currently possible                       |
| `onDeleted`           | `() => void`     | `undefined` | Callback function called after a successful deletion                         |
| `text`                | `string`         | `undefined` | Optional text to display alongside the icon                                  |
| `...buttonProps`      | `ButtonProps`    | -           | All other props from the base Button component                               |

## Hook

### `useTableDeleteRowColumn(config)`

For custom button implementations, use the hook directly:

#### Usage

```tsx
import { useTableDeleteRowColumn } from '@/registry/tiptap-ui/table-delete-row-column-button'

function CustomDeleteButton() {
  const { isVisible, handleDelete, label, canDeleteRowColumn, Icon } = useTableDeleteRowColumn({
    orientation: 'row',
    hideWhenUnavailable: true,
  })

  if (!isVisible) return null

  return (
    <button onClick={handleDelete} disabled={!canDeleteRowColumn}>
      <Icon />
      {label}
    </button>
  )
}
```

### Hook Configuration

The `UseTableDeleteRowColumnConfig` interface supports the following options:

| Name                  | Type             | Default     | Description                                                                  |
| --------------------- | ---------------- | ----------- | ---------------------------------------------------------------------------- |
| `editor`              | `Editor \| null` | `undefined` | The Tiptap editor instance. Uses context if omitted                          |
| `index`               | `number`         | `undefined` | The index of the row or column to delete. If omitted, uses current selection |
| `orientation`         | `Orientation`    | `undefined` | Whether deleting a "row" or "column". If omitted, uses current selection     |
| `tablePos`            | `number`         | `undefined` | The position of the table in the document                                    |
| `hideWhenUnavailable` | `boolean`        | `false`     | Hide when deletion isn't currently possible                                  |
| `onDeleted`           | `() => void`     | `undefined` | Callback function called after a successful deletion                         |

### Hook Return Values

| Name                 | Type                  | Description                                          |
| -------------------- | --------------------- | ---------------------------------------------------- |
| `isVisible`          | `boolean`             | Whether the button should be shown                   |
| `handleDelete`       | `() => void`          | Function to execute the deletion operation           |
| `label`              | `string`              | Accessible label for the button (e.g., "Delete row") |
| `canDeleteRowColumn` | `boolean`             | Whether deletion is currently possible               |
| `Icon`               | `React.ComponentType` | The trash icon component for the delete action       |

## Usage Examples

### Standalone Button

```tsx
'use client'

import { EditorContent, useEditor } from '@tiptap/react'
import { StarterKit } from '@tiptap/starter-kit'
import { TableKit } from '@/registry/tiptap-node/table-node/table-node-extension'
import { TableHandle as TableHandleExtension } from '@/registry/tiptap-extension/table-handle'
import { TableDeleteRowColumnButton } from '@/registry/tiptap-ui/table-delete-row-column-button'

export const StandaloneExample = () => {
  const editor = useEditor({
    extensions: [StarterKit, TableKit, TableHandleExtension],
    content: `
      <table>
        <tbody>
          <tr>
            <th><p><strong>Name</strong></p></th>
            <th><p><strong>Age</strong></p></th>
            <th><p><strong>City</strong></p></th>
          </tr>
          <tr>
            <td><p>Alice</p></td>
            <td><p>30</p></td>
            <td><p>New York</p></td>
          </tr>
          <tr>
            <td><p>Bob</p></td>
            <td><p>25</p></td>
            <td><p>London</p></td>
          </tr>
          <tr>
            <td><p>Carol</p></td>
            <td><p>35</p></td>
            <td><p>Tokyo</p></td>
          </tr>
        </tbody>
      </table>
    `,
  })

  return (
    <div>
      <EditorContent editor={editor} />
      <div style={{ marginTop: 10 }}>
        <TableDeleteRowColumnButton
          editor={editor}
          index={1}
          orientation="row"
          text="Delete Row 1"
        />
        <TableDeleteRowColumnButton
          editor={editor}
          index={1}
          orientation="column"
          text="Delete Column 1"
        />
      </div>
    </div>
  )
}
```

### With Table Handle Integration

```tsx
'use client'

import { useCallback, useMemo, useState } from 'react'
import { EditorContent, EditorContext, useEditor } from '@tiptap/react'
import { StarterKit } from '@tiptap/starter-kit'
import { TableKit } from '@/registry/tiptap-node/table-node/table-node-extension'
import { TableHandle as TableHandleExtension } from '@/registry/tiptap-extension/table-handle'
import { useTableDeleteRowColumn } from '@/registry/tiptap-ui/table-delete-row-column-button'
import { TableHandle } from '@/registry/tiptap-ui/table-handle'
import type { TableHandleButtonProps } from '@/registry/tiptap-ui/table-handle'
import { Button } from '@/registry/tiptap-ui-primitive/button'
import {
  Menu,
  MenuButton,
  MenuContent,
  MenuGroup,
  MenuItem,
} from '@/registry/tiptap-ui-primitive/menu'
import { Combobox, ComboboxList } from '@/registry/tiptap-ui-primitive/combobox'
import { MoreVerticalIcon } from '@/registry/tiptap-icons/more-vertical-icon'
import type { Orientation } from '@/registry/lib/tiptap-table-utils'
import { cn, SR_ONLY } from '@/registry/lib/tiptap-utils'

const MENU_PLACEMENT_MAP: Record<Orientation, React.ComponentProps<typeof Menu>['placement']> = {
  row: 'top-start',
  column: 'bottom-start',
}

export const TableHandleIntegrationExample = () => {
  const editor = useEditor({
    immediatelyRender: false,
    extensions: [StarterKit, TableKit, TableHandleExtension],
    content: `
      <h2>Table Delete Row/Column Demo</h2>
      <p>
        Hover over the table to see handle buttons. Click the menu to delete rows and columns. 
        Note that deletion cannot be undone.
      </p>
      <table>
        <tbody>
          <tr>
            <th><p><strong>Country</strong></p></th>
            <th><p><strong>Capital</strong></p></th>
            <th><p><strong>Language</strong></p></th>
          </tr>
          <tr>
            <td><p>Spain</p></td>
            <td><p>Madrid</p></td>
            <td><p>Spanish</p></td>
          </tr>
          <tr>
            <td><p>Germany</p></td>
            <td><p>Berlin</p></td>
            <td><p>German</p></td>
          </tr>
          <tr>
            <td><p>Indonesia</p></td>
            <td><p>Jakarta</p></td>
            <td><p>Indonesian</p></td>
          </tr>
          <tr>
            <td><p>Netherlands</p></td>
            <td><p>Amsterdam</p></td>
            <td><p>Dutch</p></td>
          </tr>
        </tbody>
      </table>
    `,
  })

  return (
    <EditorContext.Provider value={{ editor }}>
      <EditorContent editor={editor} className="control-showcase" />
      <TableHandle editor={editor} rowButton={DeleteMenu} columnButton={DeleteMenu} />
    </EditorContext.Provider>
  )
}

function DeleteMenu(props: TableHandleButtonProps) {
  const { editor, index, tablePos, orientation, onToggleOtherHandle } = props
  const [isMenuOpen, setIsMenuOpen] = useState(false)

  const deleteAction = useTableDeleteRowColumn({
    index,
    tablePos,
    orientation,
    hideWhenUnavailable: false,
    onDeleted: () => console.log('Deleted!'),
  })

  const menuPlacement = useMemo(() => MENU_PLACEMENT_MAP[orientation], [orientation])

  const handleMenuToggle = useCallback(
    (isOpen: boolean) => {
      setIsMenuOpen(isOpen)

      if (isOpen) {
        editor.commands.freezeHandles()
        onToggleOtherHandle?.(false)
      } else {
        editor.commands.unfreezeHandles()
        onToggleOtherHandle?.(true)
      }
    },
    [editor, onToggleOtherHandle],
  )

  return (
    <Menu
      open={isMenuOpen}
      onOpenChange={handleMenuToggle}
      placement={menuPlacement}
      trigger={
        <MenuButton
          className={cn('tiptap-table-handle-menu', isMenuOpen && 'menu-opened', orientation)}
        >
          <MoreVerticalIcon className="tiptap-button-icon" />
        </MenuButton>
      }
    >
      <MenuContent autoFocusOnShow modal>
        <Combobox style={SR_ONLY} />
        <ComboboxList>
          <MenuGroup>
            <MenuItem
              render={<Button data-style="ghost" data-active-state="off" />}
              onClick={deleteAction.handleDelete}
              disabled={!deleteAction.canDeleteRowColumn}
            >
              <deleteAction.Icon className="tiptap-button-icon" />
              <span className="tiptap-button-text">{deleteAction.label}</span>
            </MenuItem>
          </MenuGroup>
        </ComboboxList>
      </MenuContent>
    </Menu>
  )
}
```

### Using Hook with Custom Button

```tsx
'use client'

import { useTableDeleteRowColumn } from '@/registry/tiptap-ui/table-delete-row-column-button'

function CustomDeleteControls() {
  const deleteRow = useTableDeleteRowColumn({
    orientation: 'row',
    hideWhenUnavailable: true,
    onDeleted: () => console.log('Row deleted!'),
  })

  const deleteColumn = useTableDeleteRowColumn({
    orientation: 'column',
    hideWhenUnavailable: true,
  })

  return (
    <div>
      {deleteRow.isVisible && (
        <button
          onClick={deleteRow.handleDelete}
          disabled={!deleteRow.canDeleteRowColumn}
          aria-label={deleteRow.label}
        >
          <deleteRow.Icon />
          {deleteRow.label}
        </button>
      )}
      {deleteColumn.isVisible && (
        <button
          onClick={deleteColumn.handleDelete}
          disabled={!deleteColumn.canDeleteRowColumn}
          aria-label={deleteColumn.label}
        >
          <deleteColumn.Icon />
          {deleteColumn.label}
        </button>
      )}
    </div>
  )
}
```

## Behavior

### Delete Operation

The delete operation:

1. **Validates the deletion** - Checks if the table has the target row/column and the table structure allows deletion
2. **Determines target** - Uses the current selection or specified index to identify what to delete
3. **Executes the deletion** - Uses ProseMirror's `deleteRow` or `deleteColumn` command
4. **Maintains selection** - Updates selection to remain within the table after deletion

### Selection Handling

The component handles two types of selections:

1. **CellSelection** - When multiple cells are selected, deletes the selected rows/columns
2. **Regular selection** - When cursor is in a single cell, deletes that row/column

For regular selections, the component:

- Creates a temporary cell selection for the source row/column
- Executes the delete operation
- Updates the selection to remain in the table

## Requirements

### Dependencies

- `@tiptap/react` - Core Tiptap React integration
- `@tiptap/pm/tables` - ProseMirror table utilities (CellSelection, deleteRow, deleteColumn)
- `@tiptap/pm/state` - ProseMirror state management (Transaction)
- `react` - React framework

### Required Extensions

- `tableHandle` - Table handle extension for detecting row/column context
- `table` - Table node extension (TableKit)

### Required Components (for full example)

- `Button` (UI primitive) - Base button component
- `Menu`, `MenuButton`, `MenuContent`, `MenuItem` (UI primitives) - Menu components
- `TableHandle` - For hover-based table manipulation

### Referenced Utilities

- `useTiptapEditor` (hook) - Custom hook for editor instance management
- `tiptap-table-utils` (lib) - Utility functions:
  - `getTable` - Get table node information
  - `getTableSelectionType` - Determine selection type
  - `selectCellsByCoords` - Select cells by coordinates
- `tiptap-utils` (lib) - Utility functions:
  - `isExtensionAvailable` - Check if an extension is available

## Related Components

- **Table Handle** - For hover-based row/column manipulation
- **Table Move Row/Column Button** - For moving rows and columns
- **Table Duplicate Row/Column Button** - For duplicating rows and columns
- **Table Add Row/Column Button** - For adding new rows and columns
- **Table Clear Row/Column Content Button** - For clearing content without deletion
- **Table Sort Row/Column Button** - For sorting rows and columns
- **Table Node (TableKit)** - The core table node extension
- **Table Handle Extension** - Required extension for context detection
