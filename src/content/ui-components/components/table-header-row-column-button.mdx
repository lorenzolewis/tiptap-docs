---
title: Table Header Row/Column Button
meta:
  title: Table Header Row/Column Button | Tiptap UI Components
  description: A button component and hook for toggling table header rows and columns in Tiptap editors, with proper semantic structure and visual styling.
  category: UI Components
component:
  name: Table Header Row/Column Button
  description: A prebuilt button component and hook for toggling header formatting on the first row or first column of a table.
  type: component
  isFree: false
  isCloud: false
  isOpen: false
  isNew: true
  icon: TableIcon
tags:
  - type: start
---

import { CodeDemo } from '@/components/CodeDemo'

A button component and custom hook for toggling table header rows and columns in Tiptap editors. Converts the first row or first column between regular cells and header cells, providing proper semantic structure and visual distinction for table headers.

<CodeDemo
  isScrollable
  src="https://template.tiptap.dev/preview/tiptap-ui/table-header-row-column-button"
/>

## Installation

Add the component via the Tiptap CLI:

```bash
npx @tiptap/cli@latest add table-header-row-column-button
```

## Components

### `<TableHeaderRowColumnButton />`

A prebuilt button component for triggering header row/column toggle operations.

#### Usage

```tsx
import { TableHeaderRowColumnButton } from '@/registry/tiptap-ui/table-header-row-column-button'

function MyHeaderButton() {
  return <TableHeaderRowColumnButton editor={editor} index={0} orientation="row" />
}
```

### Props

| Name                  | Type             | Default     | Description                                                                               |
| --------------------- | ---------------- | ----------- | ----------------------------------------------------------------------------------------- |
| `editor`              | `Editor \| null` | `undefined` | The Tiptap editor instance                                                                |
| `index`               | `number`         | `undefined` | The index of the row or column. Must be 0 for headers. If omitted, uses current selection |
| `orientation`         | `Orientation`    | `undefined` | Whether toggling "row" or "column" header. If omitted, uses current selection             |
| `tablePos`            | `number`         | `undefined` | The position of the table in the document. Used when no cell is selected                  |
| `hideWhenUnavailable` | `boolean`        | `false`     | Hide the button when header toggle isn't currently possible                               |
| `onToggled`           | `() => void`     | `undefined` | Callback function called after a successful header toggle                                 |
| `text`                | `string`         | `undefined` | Optional text to display alongside the icon                                               |
| `...buttonProps`      | `ButtonProps`    | -           | All other props from the base Button component                                            |

## Hook

### `useTableHeaderRowColumn(config)`

A custom React hook that provides the toggle functionality and state management. Use this for custom button implementations.

#### Usage

```tsx
import { useTableHeaderRowColumn } from '@/registry/tiptap-ui/table-header-row-column-button'

function CustomHeaderButton() {
  const { isVisible, handleToggle, label, canToggleHeader, Icon, isActive } =
    useTableHeaderRowColumn({
      index: 0,
      orientation: 'row',
      hideWhenUnavailable: true,
    })

  if (!isVisible) return null

  return (
    <button onClick={handleToggle} disabled={!canToggleHeader} aria-pressed={isActive}>
      <Icon />
      {label}
    </button>
  )
}
```

### Hook Configuration

The `UseTableHeaderRowColumnConfig` interface supports the following options:

| Name                  | Type             | Default     | Description                                                                               |
| --------------------- | ---------------- | ----------- | ----------------------------------------------------------------------------------------- |
| `editor`              | `Editor \| null` | `undefined` | The Tiptap editor instance. Uses context if omitted                                       |
| `index`               | `number`         | `undefined` | The index of the row or column. Must be 0 for headers. If omitted, uses current selection |
| `orientation`         | `Orientation`    | `undefined` | Whether toggling "row" or "column" header. If omitted, uses current selection             |
| `tablePos`            | `number`         | `undefined` | The position of the table in the document. Used when no cell is selected                  |
| `hideWhenUnavailable` | `boolean`        | `false`     | Hide when header toggle isn't currently possible                                          |
| `onToggled`           | `() => void`     | `undefined` | Callback function called after a successful header toggle                                 |

### Hook Return Values

| Name              | Type                  | Description                                                       |
| ----------------- | --------------------- | ----------------------------------------------------------------- |
| `isVisible`       | `boolean`             | Whether the button should be shown                                |
| `handleToggle`    | `() => void`          | Function to execute the toggle operation                          |
| `label`           | `string`              | Accessible label for the button ("Header row" or "Header column") |
| `canToggleHeader` | `boolean`             | Whether toggling is currently possible                            |
| `Icon`            | `React.ComponentType` | The appropriate icon component for the orientation                |
| `isActive`        | `boolean`             | Whether headers are currently applied to the row/column           |

## Usage Examples

### Standalone Button

```tsx
'use client'

import { EditorContent, useEditor } from '@tiptap/react'
import { StarterKit } from '@tiptap/starter-kit'
import { TableKit } from '@/registry/tiptap-node/table-node/table-node-extension'
import { TableHandle as TableHandleExtension } from '@/registry/tiptap-extension/table-handle'
import { TableHeaderRowColumnButton } from '@/registry/tiptap-ui/table-header-row-column-button'

export const StandaloneExample = () => {
  const editor = useEditor({
    extensions: [StarterKit, TableKit, TableHandleExtension],
    content: `
      <table>
        <tbody>
          <tr>
            <td><p>Name</p></td>
            <td><p>Age</p></td>
            <td><p>City</p></td>
          </tr>
          <tr>
            <td><p>Alice</p></td>
            <td><p>30</p></td>
            <td><p>New York</p></td>
          </tr>
          <tr>
            <td><p>Bob</p></td>
            <td><p>25</p></td>
            <td><p>London</p></td>
          </tr>
        </tbody>
      </table>
    `,
  })

  return (
    <div>
      <EditorContent editor={editor} />
      <div style={{ marginTop: 10 }}>
        <TableHeaderRowColumnButton
          editor={editor}
          index={0}
          orientation="row"
          text="Toggle Header Row"
        />
        <TableHeaderRowColumnButton
          editor={editor}
          index={0}
          orientation="column"
          text="Toggle Header Column"
        />
      </div>
    </div>
  )
}
```

### With Table Handle Integration

```tsx
'use client'

import { useCallback, useMemo, useState } from 'react'
import { EditorContent, EditorContext, useEditor } from '@tiptap/react'
import { StarterKit } from '@tiptap/starter-kit'
import { TableKit } from '@/registry/tiptap-node/table-node/table-node-extension'
import { TableHandle as TableHandleExtension } from '@/registry/tiptap-extension/table-handle'
import { useTableHeaderRowColumn } from '@/registry/tiptap-ui/table-header-row-column-button'
import { TableHandle } from '@/registry/tiptap-ui/table-handle'
import type { TableHandleButtonProps } from '@/registry/tiptap-ui/table-handle'
import { Button } from '@/registry/tiptap-ui-primitive/button'
import {
  Menu,
  MenuButton,
  MenuContent,
  MenuGroup,
  MenuItem,
} from '@/registry/tiptap-ui-primitive/menu'
import { Combobox, ComboboxList } from '@/registry/tiptap-ui-primitive/combobox'
import { MoreVerticalIcon } from '@/registry/tiptap-icons/more-vertical-icon'
import type { Orientation } from '@/registry/lib/tiptap-table-utils'

const MENU_PLACEMENT_MAP: Record<Orientation, React.ComponentProps<typeof Menu>['placement']> = {
  row: 'top-start',
  column: 'bottom-start',
}

export const TableHandleIntegrationExample = () => {
  const editor = useEditor({
    immediatelyRender: false,
    extensions: [StarterKit, TableKit, TableHandleExtension],
    content: `
      <h2>Table Header Row/Column Demo</h2>
      <p>Hover over the <strong>first row or first column</strong> to see handle buttons. Click to toggle header formatting.</p>
      <table>
        <tbody>
          <tr>
            <td><p>Title</p></td>
            <td><p>Author</p></td>
            <td><p>Genre</p></td>
            <td><p>Year</p></td>
            <td><p>Rating</p></td>
          </tr>
          <tr>
            <td><p>1984</p></td>
            <td><p>George Orwell</p></td>
            <td><p>Dystopian</p></td>
            <td><p>1949</p></td>
            <td><p>4.7</p></td>
          </tr>
          <tr>
            <td><p>The Great Gatsby</p></td>
            <td><p>F. Scott Fitzgerald</p></td>
            <td><p>Classic</p></td>
            <td><p>1925</p></td>
            <td><p>4.2</p></td>
          </tr>
          <tr>
            <td><p>Harry Potter</p></td>
            <td><p>J.K. Rowling</p></td>
            <td><p>Fantasy</p></td>
            <td><p>1997</p></td>
            <td><p>4.9</p></td>
          </tr>
        </tbody>
      </table>
    `,
  })

  return (
    <EditorContext.Provider value={{ editor }}>
      <EditorContent editor={editor} className="control-showcase" />
      <TableHandle rowButton={HeaderMenu} columnButton={HeaderMenu} />
    </EditorContext.Provider>
  )
}

function HeaderMenu(props: TableHandleButtonProps) {
  const { editor, index, tablePos, orientation, onToggleOtherHandle } = props
  const [isMenuOpen, setIsMenuOpen] = useState(false)

  const headerAction = useTableHeaderRowColumn({
    index,
    orientation,
    tablePos,
  })

  const menuPlacement = useMemo(() => MENU_PLACEMENT_MAP[orientation], [orientation])

  const handleMenuToggle = useCallback(
    (isOpen: boolean) => {
      setIsMenuOpen(isOpen)

      if (isOpen) {
        editor.commands.freezeHandles()
        onToggleOtherHandle?.(false)
      } else {
        editor.commands.unfreezeHandles()
        onToggleOtherHandle?.(true)
      }
    },
    [editor, onToggleOtherHandle],
  )

  // Only show header toggle for index 0
  if (index !== 0) {
    return null
  }

  return (
    <Menu
      open={isMenuOpen}
      onOpenChange={handleMenuToggle}
      placement={menuPlacement}
      trigger={
        <MenuButton
          className={`tiptap-table-handle-menu ${isMenuOpen ? 'menu-opened' : ''} ${orientation}`}
        >
          <MoreVerticalIcon className="tiptap-button-icon" />
        </MenuButton>
      }
    >
      <MenuContent autoFocusOnShow modal>
        <Combobox style={{ position: 'absolute', left: '-9999px' }} />
        <ComboboxList>
          <MenuGroup>
            <MenuItem
              render={
                <Button
                  data-style="ghost"
                  data-active-state={headerAction.isActive ? 'on' : 'off'}
                  disabled={!headerAction.canToggleHeader}
                >
                  <headerAction.Icon className="tiptap-button-icon" />
                  <span className="tiptap-button-text">{headerAction.label}</span>
                </Button>
              }
              onClick={headerAction.handleToggle}
            />
          </MenuGroup>
        </ComboboxList>
      </MenuContent>
    </Menu>
  )
}
```

### Custom Hook Usage

```tsx
'use client'

import { useTableHeaderRowColumn } from '@/registry/tiptap-ui/table-header-row-column-button'

function CustomHeaderControls({ editor }: { editor: Editor | null }) {
  const rowHeader = useTableHeaderRowColumn({
    editor,
    index: 0,
    orientation: 'row',
    hideWhenUnavailable: true,
    onToggled: () => console.log('Row header toggled!'),
  })

  const columnHeader = useTableHeaderRowColumn({
    editor,
    index: 0,
    orientation: 'column',
    hideWhenUnavailable: true,
    onToggled: () => console.log('Column header toggled!'),
  })

  return (
    <div>
      {rowHeader.isVisible && (
        <button
          onClick={rowHeader.handleToggle}
          disabled={!rowHeader.canToggleHeader}
          aria-label={rowHeader.label}
          aria-pressed={rowHeader.isActive}
          style={{
            fontWeight: rowHeader.isActive ? 'bold' : 'normal',
          }}
        >
          <rowHeader.Icon />
          {rowHeader.label} {rowHeader.isActive ? '✓' : ''}
        </button>
      )}
      {columnHeader.isVisible && (
        <button
          onClick={columnHeader.handleToggle}
          disabled={!columnHeader.canToggleHeader}
          aria-label={columnHeader.label}
          aria-pressed={columnHeader.isActive}
          style={{
            fontWeight: columnHeader.isActive ? 'bold' : 'normal',
          }}
        >
          <columnHeader.Icon />
          {columnHeader.label} {columnHeader.isActive ? '✓' : ''}
        </button>
      )}
    </div>
  )
}
```

## Behavior

### Index 0 Restriction

Header functionality **only applies to index 0**:

- **Header Row**: Only the first row (index 0) can be converted to headers
- **Header Column**: Only the first column (index 0) can be converted to headers

This restriction ensures proper semantic table structure, as tables should have headers at the beginning, not in the middle.

### Toggle Operation

The toggle operation:

1. **Checks if index is 0** - Validation ensures operation only happens on first row/column
2. **Determines current state** - Checks if cells are already headers using node type
3. **Toggles between states**:
   - If cells are **regular cells** → Converts to `tableHeader` nodes
   - If cells are **header cells** → Converts to regular `tableCell` nodes
4. **Preserves content** - All cell content, marks, and attributes are maintained
5. **Updates selection** - Maintains selection after the toggle

### Selection Handling

The component handles two types of selections:

1. **CellSelection** - When multiple cells are selected:

   - Uses `editor.commands.toggleHeaderRow()` for rows
   - Uses `editor.commands.toggleHeaderColumn()` for columns

2. **Regular selection** - When cursor is in a single cell:
   - Uses `index`, `orientation`, and `tablePos` parameters
   - Creates temporary cell selection using `selectCellsByCoords`
   - Applies ProseMirror's `toggleHeader("row")` or `toggleHeader("column")`

## Requirements

### Dependencies

- `@tiptap/react` - Core Tiptap React integration
- `@tiptap/pm/tables` - ProseMirror table utilities (CellSelection, toggleHeader)
- `@tiptap/pm/state` - ProseMirror state management (Transaction)
- `react` - React framework

### Required Extensions

- `table` - Table node extension (TableKit)

### Required Components (for full example)

- `Button` (UI primitive) - Base button component
- `Menu`, `MenuButton`, `MenuContent`, `MenuItem` (UI primitives) - Menu components
- `TableHandle` - For hover-based table manipulation
- `TableHandle Extension` - For detecting row/column context

### Referenced Utilities

- `useTiptapEditor` (hook) - Custom hook for editor instance management
- `tiptap-table-utils` (lib) - Utility functions:
  - `getIndexCoordinates` - Get cell coordinates for an index
  - `getRowOrColumnCells` - Get cells in a row or column
  - `getTableSelectionType` - Determine selection type
  - `selectCellsByCoords` - Select cells by coordinates
- `tiptap-utils` (lib) - `isExtensionAvailable`, `isValidPosition` for validation

## Related Components

- **Table Handle** - For hover-based row/column manipulation
- **Table Sort Row/Column Button** - For sorting rows and columns
- **Table Move Row/Column Button** - For moving rows and columns
- **Table Delete Row/Column Button** - For deleting rows and columns
- **Table Node (TableKit)** - The core table node extension
- **Table Handle Extension** - Required extension for context detection
