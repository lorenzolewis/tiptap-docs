---
title: Table Handle
meta:
  title: Table Handle | Tiptap UI Components
  description: A positioning system for displaying interactive handles alongside table rows and columns in Tiptap editors, enabling hover-based table manipulation.
  category: UI Components
component:
  name: Table Handle
  description: A component that manages the positioning and rendering of floating table row/column handles with automatic hover detection and customizable button components.
  type: component
  isFree: false
  isCloud: false
  isOpen: false
  isNew: true
  icon: TableIcon
tags:
  - type: start
---

import { CodeDemo } from '@/components/CodeDemo'

A positioning system component that displays interactive handles alongside table rows and columns in Tiptap editors. Automatically detects hover state and positions floating handles using Floating UI, providing a foundation for table manipulation interfaces.

<CodeDemo isScrollable src="https://template.tiptap.dev/preview/tiptap-ui/table-handle" />

## Installation

Add the component via the Tiptap CLI:

```bash
npx @tiptap/cli@latest add table-handle
```

## Components

### `<TableHandle />`

A component that manages positioning and rendering of floating handles for table rows and columns.

#### Usage

```tsx
import { TableHandle } from '@/registry/tiptap-ui/table-handle'

function MyTableEditor() {
  return (
    <div>
      <EditorContent editor={editor} />
      <TableHandle editor={editor} />
    </div>
  )
}
```

### Props

| Name           | Type                                    | Default     | Description                                                        |
| -------------- | --------------------------------------- | ----------- | ------------------------------------------------------------------ |
| `editor`       | `Editor \| null`                        | `undefined` | The Tiptap editor instance                                         |
| `rowButton`    | `ComponentType<TableHandleButtonProps>` | `undefined` | Custom component for row handles. Defaults to `TableHandleMenu`    |
| `columnButton` | `ComponentType<TableHandleButtonProps>` | `undefined` | Custom component for column handles. Defaults to `TableHandleMenu` |

### TableHandleButtonProps Interface

Custom button components receive these props:

| Name                  | Type                         | Description                                                  |
| --------------------- | ---------------------------- | ------------------------------------------------------------ |
| `editor`              | `Editor`                     | The Tiptap editor instance                                   |
| `orientation`         | `Orientation`                | Either "row" or "column"                                     |
| `index`               | `number`                     | The index of the current row or column                       |
| `tablePos`            | `number`                     | The position of the table in the document (optional)         |
| `onToggleOtherHandle` | `(visible: boolean) => void` | Callback to toggle visibility of the other handle (optional) |

## Usage Examples

### Basic Usage (Default Handles)

```tsx
'use client'

import { EditorContent, EditorContext, useEditor } from '@tiptap/react'
import { StarterKit } from '@tiptap/starter-kit'
import { TableKit } from '@/registry/tiptap-node/table-node/table-node-extension'
import { TableHandle as TableHandleExtension } from '@/registry/tiptap-extension/table-handle'
import { TableHandle } from '@/registry/tiptap-ui/table-handle'

export const BasicExample = () => {
  const editor = useEditor({
    immediatelyRender: false,
    extensions: [StarterKit, TableKit, TableHandleExtension],
    content: `
      <h2>Table Handle Demo</h2>
      <p>Hover over the table to see row and column handles appear.</p>
      <table>
        <tbody>
          <tr>
            <th><p><strong>Product</strong></p></th>
            <th><p><strong>Price</strong></p></th>
            <th><p><strong>Stock</strong></p></th>
          </tr>
          <tr>
            <td><p>Laptop</p></td>
            <td><p>$999</p></td>
            <td><p>15</p></td>
          </tr>
          <tr>
            <td><p>Mouse</p></td>
            <td><p>$29</p></td>
            <td><p>50</p></td>
          </tr>
          <tr>
            <td><p>Keyboard</p></td>
            <td><p>$79</p></td>
            <td><p>30</p></td>
          </tr>
        </tbody>
      </table>
    `,
  })

  return (
    <EditorContext.Provider value={{ editor }}>
      <EditorContent editor={editor} />
      <TableHandle editor={editor} />
    </EditorContext.Provider>
  )
}
```

### Custom Button Components

```tsx
'use client'

import { EditorContent, EditorContext, useEditor } from '@tiptap/react'
import { StarterKit } from '@tiptap/starter-kit'
import { TableKit } from '@/registry/tiptap-node/table-node/table-node-extension'
import { TableHandle as TableHandleExtension } from '@/registry/tiptap-extension/table-handle'
import { TableHandle, TableHandleButtonProps } from '@/registry/tiptap-ui/table-handle'
import { useTableDeleteRowColumn } from '@/registry/tiptap-ui/table-delete-row-column-button'
import { Button } from '@/registry/tiptap-ui-primitive/button'

// Custom button component for row/column operations
function SimpleDeleteButton(props: TableHandleButtonProps) {
  const { editor, index, orientation, tablePos } = props

  const deleteAction = useTableDeleteRowColumn({
    editor,
    index,
    orientation,
    tablePos,
  })

  return (
    <Button
      onClick={deleteAction.handleDelete}
      disabled={!deleteAction.canDeleteRowColumn}
      aria-label={deleteAction.label}
    >
      <deleteAction.Icon />
    </Button>
  )
}

export const CustomButtonExample = () => {
  const editor = useEditor({
    immediatelyRender: false,
    extensions: [StarterKit, TableKit, TableHandleExtension],
    content: `
      <table>
        <tbody>
          <tr>
            <td><p>Row 1, Col 1</p></td>
            <td><p>Row 1, Col 2</p></td>
          </tr>
          <tr>
            <td><p>Row 2, Col 1</p></td>
            <td><p>Row 2, Col 2</p></td>
          </tr>
        </tbody>
      </table>
    `,
  })

  return (
    <EditorContext.Provider value={{ editor }}>
      <EditorContent editor={editor} />
      <TableHandle
        editor={editor}
        rowButton={SimpleDeleteButton}
        columnButton={SimpleDeleteButton}
      />
    </EditorContext.Provider>
  )
}
```

### With Custom Menu (Full Example)

```tsx
'use client'

import { useCallback, useMemo, useState } from 'react'
import { EditorContent, EditorContext, useEditor } from '@tiptap/react'
import { StarterKit } from '@tiptap/starter-kit'
import { TableKit } from '@/registry/tiptap-node/table-node/table-node-extension'
import { TableHandle as TableHandleExtension } from '@/registry/tiptap-extension/table-handle'
import { TableHandle, TableHandleButtonProps } from '@/registry/tiptap-ui/table-handle'
import { useTableMoveRowColumn } from '@/registry/tiptap-ui/table-move-row-column-button'
import { useTableDeleteRowColumn } from '@/registry/tiptap-ui/table-delete-row-column-button'
import { Button } from '@/registry/tiptap-ui-primitive/button'
import {
  Menu,
  MenuButton,
  MenuContent,
  MenuGroup,
  MenuItem,
} from '@/registry/tiptap-ui-primitive/menu'
import { Combobox, ComboboxList } from '@/registry/tiptap-ui-primitive/combobox'
import { MoreVerticalIcon } from '@/registry/tiptap-icons/more-vertical-icon'
import { cn, SR_ONLY } from '@/registry/lib/tiptap-utils'
import type { Orientation } from '@/registry/lib/tiptap-table-utils'

const MENU_PLACEMENT_MAP: Record<Orientation, React.ComponentProps<typeof Menu>['placement']> = {
  row: 'top-start',
  column: 'bottom-start',
}

function CustomMenu(props: TableHandleButtonProps) {
  const { editor, index, tablePos, orientation, onToggleOtherHandle } = props
  const [isMenuOpen, setIsMenuOpen] = useState(false)

  const moveUp = useTableMoveRowColumn({
    index,
    tablePos,
    orientation: 'row',
    direction: 'up',
    hideWhenUnavailable: true,
  })

  const moveDown = useTableMoveRowColumn({
    index,
    tablePos,
    orientation: 'row',
    direction: 'down',
    hideWhenUnavailable: true,
  })

  const deleteAction = useTableDeleteRowColumn({
    index,
    orientation,
    tablePos,
  })

  const menuPlacement = useMemo(() => MENU_PLACEMENT_MAP[orientation], [orientation])

  const handleMenuToggle = useCallback(
    (isOpen: boolean) => {
      setIsMenuOpen(isOpen)

      if (isOpen) {
        editor.commands.freezeHandles()
        onToggleOtherHandle?.(false)
      } else {
        editor.commands.unfreezeHandles()
        onToggleOtherHandle?.(true)
      }
    },
    [editor, onToggleOtherHandle],
  )

  return (
    <Menu
      open={isMenuOpen}
      onOpenChange={handleMenuToggle}
      placement={menuPlacement}
      trigger={
        <MenuButton
          className={cn('tiptap-table-handle-menu', isMenuOpen && 'menu-opened', orientation)}
        >
          <MoreVerticalIcon className="tiptap-button-icon" />
        </MenuButton>
      }
    >
      <MenuContent autoFocusOnShow modal>
        <Combobox style={SR_ONLY} />
        <ComboboxList>
          <MenuGroup>
            {orientation === 'row' && (
              <>
                {moveUp.isVisible && (
                  <MenuItem
                    render={<Button data-style="ghost" />}
                    onClick={moveUp.handleMove}
                    disabled={!moveUp.canMoveRowColumn}
                  >
                    <moveUp.Icon className="tiptap-button-icon" />
                    <span className="tiptap-button-text">{moveUp.label}</span>
                  </MenuItem>
                )}
                {moveDown.isVisible && (
                  <MenuItem
                    render={<Button data-style="ghost" />}
                    onClick={moveDown.handleMove}
                    disabled={!moveDown.canMoveRowColumn}
                  >
                    <moveDown.Icon className="tiptap-button-icon" />
                    <span className="tiptap-button-text">{moveDown.label}</span>
                  </MenuItem>
                )}
              </>
            )}
            {deleteAction.isVisible && (
              <MenuItem
                render={<Button data-style="ghost" />}
                onClick={deleteAction.handleDelete}
                disabled={!deleteAction.canDeleteRowColumn}
              >
                <deleteAction.Icon className="tiptap-button-icon" />
                <span className="tiptap-button-text">{deleteAction.label}</span>
              </MenuItem>
            )}
          </MenuGroup>
        </ComboboxList>
      </MenuContent>
    </Menu>
  )
}

export const FullCustomMenuExample = () => {
  const editor = useEditor({
    immediatelyRender: false,
    extensions: [StarterKit, TableKit, TableHandleExtension],
    content: `
      <h2>Custom Menu Example</h2>
      <table>
        <tbody>
          <tr>
            <th><p><strong>Name</strong></p></th>
            <th><p><strong>Role</strong></p></th>
          </tr>
          <tr>
            <td><p>Alice</p></td>
            <td><p>Developer</p></td>
          </tr>
          <tr>
            <td><p>Bob</p></td>
            <td><p>Designer</p></td>
          </tr>
        </tbody>
      </table>
    `,
  })

  return (
    <EditorContext.Provider value={{ editor }}>
      <EditorContent editor={editor} />
      <TableHandle editor={editor} rowButton={CustomMenu} columnButton={CustomMenu} />
    </EditorContext.Provider>
  )
}
```

## Requirements

### Dependencies

- `@tiptap/react` - Core Tiptap React integration
- `@floating-ui/react` - Positioning library (FloatingPortal)
- `react` - React framework

### Required Extensions

- `tableHandle` - Table handle extension that emits `tableHandleState` events

### Required Hooks

- `useTiptapEditor` - Editor instance management
- `useTableHandleState` - Table handle state subscription
- `useTableHandlePositioning` - Floating UI positioning

### Default Button Component

- `TableHandleMenu` - Default menu with all table operations (used when no custom buttons provided)

### Referenced Utilities

- `tiptap-table-utils` (lib) - Type definitions:
  - `Orientation` - Type for "row" or "column"

## Related Components

- **[Table Handle Menu](/ui-components/components/table-handle-menu)** - Default button component with all operations
- **Table Handle Extension** - Required extension for state management
- **[Table Move Row/Column Button](/ui-components/components/table-move-row-column-button)** - Individual move operation button
- **[Table Add Row/Column Button](/ui-components/components/table-add-row-column-button)** - Individual add operation button
- **[Table Delete Row/Column Button](/ui-components/components/table-delete-row-column-button)** - Individual delete operation button
- **[Table Duplicate Row/Column Button](/ui-components/components/table-duplicate-row-column-button)** - Individual duplicate operation button
- **[Table Sort Row/Column Button](/ui-components/components/table-sort-row-column-button)** - Individual sort operation button
- **[Table Header Row/Column Button](/ui-components/components/table-header-row-column-button)** - Individual header toggle button
- **[Table Node (TableKit)](/ui-components/node-components/table-node)** - The core table node extension
- **[Table Extend Row/Column Buttons](/ui-components/components/table-extend-row-column-buttons)** - Additional buttons for adding rows/columns at table edges
