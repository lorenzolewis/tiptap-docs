---
title: Table Cell Handle Menu
meta:
  title: Table Cell Handle Menu | Tiptap UI Components
  description: A contextual menu component for table cells in Tiptap editors, providing quick access to cell operations like merge, split, align, color, and clear.
  category: UI Components
component:
  name: Table Cell Handle Menu
  description: A prebuilt contextual menu for table cell operations with expandable button trigger.
  type: component
  isFree: false
  isCloud: false
  isOpen: false
  isNew: true
  icon: TableIcon
tags:
  - type: start
---

import { CodeDemo } from '@/components/CodeDemo'

A contextual menu component for table cell operations in Tiptap editors. Provides quick access to common cell actions including merge/split, alignment, background color, and content clearing through an expandable button interface.

<CodeDemo isScrollable src="https://template.tiptap.dev/preview/tiptap-ui/table-cell-handle-menu" />

## Installation

Add the component via the Tiptap CLI:

```bash
npx @tiptap/cli@latest add table-cell-handle-menu
```

## Components

### `<TableCellHandleMenu />`

A prebuilt contextual menu component that appears within table cells, providing access to cell-specific operations.

#### Usage

```tsx
import { TableCellHandleMenu } from '@/registry/tiptap-ui/table-cell-handle-menu'

function MyTableEditor() {
  return (
    <div>
      <EditorContent editor={editor} />
      <TableCellHandleMenu editor={editor} />
    </div>
  )
}
```

### Props

| Name           | Type                        | Default     | Description                                           |
| -------------- | --------------------------- | ----------- | ----------------------------------------------------- |
| `editor`       | `Editor \| null`            | `undefined` | The Tiptap editor instance. Uses context if omitted   |
| `onOpenChange` | `(isOpen: boolean) => void` | `undefined` | Callback function called when menu open state changes |

## Sub-Components

### `<TableActionMenu />`

The internal menu content component that can be used independently or customized.

```tsx
import { TableActionMenu } from '@/registry/tiptap-ui/table-cell-handle-menu'

function CustomMenu() {
  return (
    <Menu>
      <TableActionMenu onClose={() => console.log('Menu closed')} />
    </Menu>
  )
}
```

## Usage Examples

### Basic Implementation

```tsx
'use client'

import { EditorContent, useEditor } from '@tiptap/react'
import { StarterKit } from '@tiptap/starter-kit'
import { TableKit } from '@/registry/tiptap-node/table-node/table-node-extension'
import { TableCellHandleMenu } from '@/registry/tiptap-ui/table-cell-handle-menu'

export const BasicExample = () => {
  const editor = useEditor({
    extensions: [StarterKit, TableKit],
    content: `
      <table>
        <tbody>
          <tr>
            <th><p><strong>Name</strong></p></th>
            <th><p><strong>Role</strong></p></th>
          </tr>
          <tr>
            <td><p>Alice</p></td>
            <td><p>Developer</p></td>
          </tr>
          <tr>
            <td><p>Bob</p></td>
            <td><p>Designer</p></td>
          </tr>
        </tbody>
      </table>
    `,
  })

  return (
    <div>
      <EditorContent editor={editor} />
      <TableCellHandleMenu editor={editor} />
    </div>
  )
}
```

### With State Tracking

```tsx
'use client'

import { useState } from 'react'
import { EditorContent, useEditor } from '@tiptap/react'
import { TableCellHandleMenu } from '@/registry/tiptap-ui/table-cell-handle-menu'

export const StateTrackingExample = () => {
  const [isMenuOpen, setIsMenuOpen] = useState(false)

  const editor = useEditor({
    // ... editor config
  })

  return (
    <div>
      <EditorContent editor={editor} />
      <TableCellHandleMenu
        editor={editor}
        onOpenChange={(isOpen) => {
          setIsMenuOpen(isOpen)
          console.log('Menu is now:', isOpen ? 'open' : 'closed')
        }}
      />
      {isMenuOpen && <div>Menu is currently open</div>}
    </div>
  )
}
```

### Complete Table Editor Setup

```tsx
'use client'

import { EditorContent, useEditor } from '@tiptap/react'
import { StarterKit } from '@tiptap/starter-kit'
import { TableKit } from '@/registry/tiptap-node/table-node/table-node-extension'
import { TableHandle as TableHandleExtension } from '@/registry/tiptap-extension/table-handle'
import { TableCellHandleMenu } from '@/registry/tiptap-ui/table-cell-handle-menu'
import { TableHandle } from '@/registry/tiptap-ui/table-handle'
import { TableSelectionOverlay } from '@/registry/tiptap-ui/table-selection-overlay'

export const CompleteTableEditor = () => {
  const editor = useEditor({
    extensions: [StarterKit, TableKit, TableHandleExtension],
    content: `
      <h2>Complete Table Editor</h2>
      <p>This example includes all table UI components working together.</p>
      <table>
        <tbody>
          <tr>
            <th><p><strong>Product</strong></p></th>
            <th><p><strong>Price</strong></p></th>
            <th><p><strong>Stock</strong></p></th>
          </tr>
          <tr>
            <td><p>Widget A</p></td>
            <td><p>$29.99</p></td>
            <td><p>150</p></td>
          </tr>
          <tr>
            <td><p>Widget B</p></td>
            <td><p>$39.99</p></td>
            <td><p>87</p></td>
          </tr>
          <tr>
            <td><p>Widget C</p></td>
            <td><p>$49.99</p></td>
            <td><p>203</p></td>
          </tr>
        </tbody>
      </table>
    `,
  })

  return (
    <div>
      <EditorContent editor={editor} />
      <TableCellHandleMenu editor={editor} />
      <TableHandle editor={editor} />
      <TableSelectionOverlay editor={editor} />
    </div>
  )
}
```

## Behavior

### Menu Trigger

The component renders an expandable button within table cells:

- **Initial State**: Small circular dot indicator
- **Hover State**: Expands to show grip icon
- **Active State**: Highlighted with brand color when menu is open

### Menu Positioning

- **Placement**: Bottom-start relative to the trigger button
- **Position**: Top-right corner of the active table cell
- **Offset**: `-8px` from the right edge for visual alignment

### Available Actions

The menu dynamically shows available actions based on cell state:

#### Merge/Split Group (conditional)

- **Merge Cells**: Combines selected adjacent cells (shown when multiple cells are selected)
- **Split Cell**: Divides a merged cell back into separate cells (shown when cell has colspan/rowspan > 1)

#### Color & Alignment Group

- **Color Menu**: Set cell background color
- **Table Align Menu**: Configure text and vertical alignment
- **Clear Content**: Remove cell content and optionally reset attributes

### Action Availability

Actions are intelligently shown/hidden based on:

- **Current selection** - Single cell vs. multiple cells
- **Cell state** - Merged vs. unmerged
- **Cell content** - Empty vs. filled
- **Editor state** - Editable vs. read-only

### Handle Freezing

When the menu opens:

1. **Freezes table handles** - Prevents row/column handles from interfering
2. **Maintains selection** - Keeps current cell selection active
3. **Unfreezes on close** - Restores normal handle behavior when menu closes

## Menu Content

### Structure

```tsx
<MenuContent>
  {/* Conditional Merge/Split Group */}
  {hasMergeOrSplit && (
    <MenuGroup>
      <MenuItem>Merge cells</MenuItem>
      <MenuItem>Split cell</MenuItem>
      <Separator />
    </MenuGroup>
  )}

  {/* Main Actions Group */}
  <MenuGroup>
    <ColorMenu /> {/* Background color picker */}
    <TableAlignMenu /> {/* Text & vertical alignment */}
    <MenuItem>Clear cell</MenuItem>
  </MenuGroup>
</MenuContent>
```

### Integrated Components

The menu integrates several sub-components:

1. **ColorMenu**: Color picker for cell background
2. **TableAlignMenu**: Text and vertical alignment options
3. **Merge/Split Actions**: Cell structure operations
4. **Clear Action**: Content and attribute removal

## Requirements

### Dependencies

- `@tiptap/react` - Core Tiptap React integration
- `react` - React framework

### Required Extensions

- `table` - Table node extension (TableKit)

### Required Components

- `Button` (UI primitive) - Base button component
- `Menu`, `MenuButton`, `MenuContent`, `MenuItem` (UI primitives) - Menu components
- `Combobox`, `ComboboxList` (UI primitives) - For menu navigation
- `Separator` (UI primitive) - Visual separator between groups
- `ColorMenu` - Background color picker menu
- `TableAlignMenu` - Alignment options menu

### Referenced Hooks

- `useTiptapEditor` (hook) - Custom hook for editor instance management
- `useTableMergeSplitCell` - Hook for merge/split cell operations
- `useTableClearRowColumnContent` - Hook for clearing cell content

### Icons

- `Grip4Icon` - Four-dot grip icon for the menu trigger

## Related Components

- **[Table Handle](/ui-components/components/table-handle)** - For row/column manipulation handles
- **Table Align Menu** - Integrated alignment submenu
- **Color Menu** - Integrated color picker submenu
- **[Table Merge/Split Cell Button](/ui-components/components/table-merge-split-cell-button)** - Merge and split operations
- **[Table Clear Row/Column Content Button](/ui-components/components/table-clear-row-column-content-button)** - Content clearing operations
- **[Table Node (TableKit)](/ui-components/node-components/table-node)** - The core table node extension
- **[Table Selection Overlay](/ui-components/components/table-selection-overlay)** - Visual selection indicator
