---
title: Table Clear Row/Column Content Button
meta:
  title: Table Clear Row/Column Content Button | Tiptap UI Components
  description: A button component and hook for clearing table row, column, or cell content in Tiptap editors, with optional attribute reset functionality.
  category: UI Components
component:
  name: Table Clear Row/Column Content Button
  description: A prebuilt button component and hook for clearing content from table rows, columns, or selected cells.
  type: component
  isFree: false
  isCloud: false
  isOpen: false
  isNew: true
  icon: TableIcon
tags:
  - type: start
---

import { CodeDemo } from '@/components/CodeDemo'

A button component and custom hook for clearing content from table rows, columns, or individual cells in Tiptap editors. Supports optional attribute reset to restore default cell styling when clearing content.

<CodeDemo
  isScrollable
  src="https://template.tiptap.dev/preview/tiptap-ui/table-clear-row-column-content-button"
/>

## Installation

Add the component via the Tiptap CLI:

```bash
npx @tiptap/cli@latest add table-clear-row-column-content-button
```

## Components

### `<TableClearRowColumnContentButton />`

A prebuilt button component for triggering content clearing operations.

#### Usage

```tsx
import { TableClearRowColumnContentButton } from '@/registry/tiptap-ui/table-clear-row-column-content-button'

function MyClearButton() {
  return <TableClearRowColumnContentButton editor={editor} index={0} orientation="row" />
}
```

### Props

| Name                  | Type             | Default     | Description                                                                   |
| --------------------- | ---------------- | ----------- | ----------------------------------------------------------------------------- |
| `editor`              | `Editor \| null` | `undefined` | The Tiptap editor instance                                                    |
| `index`               | `number`         | `undefined` | The index of the row or column to clear. If omitted, clears current selection |
| `orientation`         | `Orientation`    | `undefined` | Whether clearing a "row" or "column". If omitted, clears current selection    |
| `tablePos`            | `number`         | `undefined` | The position of the table in the document                                     |
| `hideWhenUnavailable` | `boolean`        | `false`     | Hide the button when clearing isn't currently possible                        |
| `resetAttrs`          | `boolean`        | `false`     | Whether to reset cell attributes when clearing content                        |
| `onCleared`           | `() => void`     | `undefined` | Callback function called after a successful clear                             |
| `text`                | `string`         | `undefined` | Optional text to display alongside the icon                                   |
| `...buttonProps`      | `ButtonProps`    | -           | All other props from the base Button component                                |

## Hook

### `useTableClearRowColumnContent(config)`

For custom button implementations, use the hook directly:

#### Usage

```tsx
import { useTableClearRowColumnContent } from '@/registry/tiptap-ui/table-clear-row-column-content-button'

function CustomClearButton() {
  const { isVisible, handleClear, label, canClearRowColumnContent, Icon } =
    useTableClearRowColumnContent({
      resetAttrs: true,
      hideWhenUnavailable: true,
    })

  if (!isVisible) return null

  return (
    <button onClick={handleClear} disabled={!canClearRowColumnContent}>
      <Icon />
      {label}
    </button>
  )
}
```

### Hook Configuration

The `UseTableClearRowColumnContentConfig` interface supports the following options:

| Name                  | Type             | Default     | Description                                                                   |
| --------------------- | ---------------- | ----------- | ----------------------------------------------------------------------------- |
| `editor`              | `Editor \| null` | `undefined` | The Tiptap editor instance. Uses context if omitted                           |
| `index`               | `number`         | `undefined` | The index of the row or column to clear. If omitted, clears current selection |
| `orientation`         | `Orientation`    | `undefined` | Whether clearing a "row" or "column". If omitted, clears current selection    |
| `tablePos`            | `number`         | `undefined` | The position of the table in the document                                     |
| `hideWhenUnavailable` | `boolean`        | `false`     | Hide when clearing isn't currently possible                                   |
| `resetAttrs`          | `boolean`        | `false`     | Whether to reset cell attributes when clearing                                |
| `onCleared`           | `() => void`     | `undefined` | Callback function called after successful clear                               |

### Hook Return Values

| Name                       | Type                  | Description                                                  |
| -------------------------- | --------------------- | ------------------------------------------------------------ |
| `isVisible`                | `boolean`             | Whether the button should be shown                           |
| `handleClear`              | `() => void`          | Function to execute the clear operation                      |
| `label`                    | `string`              | Accessible label for the button (e.g., "Clear row contents") |
| `canClearRowColumnContent` | `boolean`             | Whether clearing is currently possible                       |
| `Icon`                     | `React.ComponentType` | The icon component (SquareXIcon)                             |

## Usage Examples

### Standalone Button

```tsx
'use client'

import { EditorContent, useEditor } from '@tiptap/react'
import { StarterKit } from '@tiptap/starter-kit'
import { TableKit } from '@/registry/tiptap-node/table-node/table-node-extension'
import { TableClearRowColumnContentButton } from '@/registry/tiptap-ui/table-clear-row-column-content-button'

export const StandaloneExample = () => {
  const editor = useEditor({
    extensions: [StarterKit, TableKit],
    content: `
      <table>
        <tbody>
          <tr>
            <th><p><strong>Name</strong></p></th>
            <th><p><strong>Email</strong></p></th>
            <th><p><strong>Role</strong></p></th>
          </tr>
          <tr>
            <td><p>Alice</p></td>
            <td><p>alice@example.com</p></td>
            <td><p>Developer</p></td>
          </tr>
          <tr>
            <td><p>Bob</p></td>
            <td><p>bob@example.com</p></td>
            <td><p>Designer</p></td>
          </tr>
        </tbody>
      </table>
    `,
  })

  return (
    <div>
      <EditorContent editor={editor} />
      <div style={{ marginTop: 10 }}>
        <TableClearRowColumnContentButton
          editor={editor}
          index={1}
          orientation="row"
          text="Clear Row 1"
        />
        <TableClearRowColumnContentButton
          editor={editor}
          index={1}
          orientation="column"
          resetAttrs={true}
          text="Clear Column 1 & Reset Styles"
        />
      </div>
    </div>
  )
}
```

### With Table Handle Integration

```tsx
'use client'

import { useCallback, useMemo, useState } from 'react'
import { EditorContent, EditorContext, useEditor } from '@tiptap/react'
import { StarterKit } from '@tiptap/starter-kit'
import { TableKit } from '@/registry/tiptap-node/table-node/table-node-extension'
import { TableHandle as TableHandleExtension } from '@/registry/tiptap-extension/table-handle'
import { useTableClearRowColumnContent } from '@/registry/tiptap-ui/table-clear-row-column-content-button'
import { TableHandle } from '@/registry/tiptap-ui/table-handle'
import type { TableHandleButtonProps } from '@/registry/tiptap-ui/table-handle'
import { Button } from '@/registry/tiptap-ui-primitive/button'
import {
  Menu,
  MenuButton,
  MenuContent,
  MenuGroup,
  MenuItem,
} from '@/registry/tiptap-ui-primitive/menu'
import { Combobox, ComboboxList } from '@/registry/tiptap-ui-primitive/combobox'
import { MoreVerticalIcon } from '@/registry/tiptap-icons/more-vertical-icon'
import type { Orientation } from '@/registry/lib/tiptap-table-utils'

const MENU_PLACEMENT_MAP: Record<Orientation, React.ComponentProps<typeof Menu>['placement']> = {
  row: 'top-start',
  column: 'bottom-start',
}

export const TableHandleIntegrationExample = () => {
  const editor = useEditor({
    immediatelyRender: false,
    extensions: [StarterKit, TableKit, TableHandleExtension],
    content: `
      <h2>Table Clear Content Demo</h2>
      <p>Hover over the table to see handle buttons. Click the menu to clear row or column content.</p>
      <table>
        <tbody>
          <tr>
            <th><p><strong>Product</strong></p></th>
            <th><p><strong>Price</strong></p></th>
            <th><p><strong>Stock</strong></p></th>
          </tr>
          <tr>
            <td><p>Widget A</p></td>
            <td><p>$29.99</p></td>
            <td><p>150</p></td>
          </tr>
          <tr>
            <td><p>Widget B</p></td>
            <td><p>$39.99</p></td>
            <td><p>87</p></td>
          </tr>
          <tr>
            <td><p>Widget C</p></td>
            <td><p>$49.99</p></td>
            <td><p>203</p></td>
          </tr>
        </tbody>
      </table>
    `,
  })

  return (
    <EditorContext.Provider value={{ editor }}>
      <EditorContent editor={editor} className="control-showcase" />
      <TableHandle editor={editor} rowButton={ClearMenu} columnButton={ClearMenu} />
    </EditorContext.Provider>
  )
}

function ClearMenu(props: TableHandleButtonProps) {
  const { editor, index, tablePos, orientation, onToggleOtherHandle } = props
  const [isMenuOpen, setIsMenuOpen] = useState(false)

  const clearContentAction = useTableClearRowColumnContent({
    index,
    orientation,
    tablePos,
    resetAttrs: true,
    hideWhenUnavailable: true,
  })

  const menuPlacement = useMemo(() => MENU_PLACEMENT_MAP[orientation], [orientation])

  const handleMenuToggle = useCallback(
    (isOpen: boolean) => {
      setIsMenuOpen(isOpen)

      if (isOpen) {
        editor.commands.freezeHandles()
        onToggleOtherHandle?.(false)
      } else {
        editor.commands.unfreezeHandles()
        onToggleOtherHandle?.(true)
      }
    },
    [editor, onToggleOtherHandle],
  )

  return (
    <Menu
      open={isMenuOpen}
      onOpenChange={handleMenuToggle}
      placement={menuPlacement}
      trigger={
        <MenuButton
          className={`tiptap-table-handle-menu ${isMenuOpen ? 'menu-opened' : ''} ${orientation}`}
        >
          <MoreVerticalIcon className="tiptap-button-icon" />
        </MenuButton>
      }
    >
      <MenuContent autoFocusOnShow modal>
        <Combobox style={{ position: 'absolute', left: '-9999px' }} />
        <ComboboxList>
          <MenuGroup>
            <MenuItem
              render={
                <Button data-style="ghost" data-active-state="off">
                  <clearContentAction.Icon className="tiptap-button-icon" />
                  <span className="tiptap-button-text">{clearContentAction.label}</span>
                </Button>
              }
              onClick={clearContentAction.handleClear}
              disabled={!clearContentAction.canClearRowColumnContent}
            />
          </MenuGroup>
        </ComboboxList>
      </MenuContent>
    </Menu>
  )
}
```

### With Attribute Reset

```tsx
'use client'

import { useState } from 'react'
import { useTableClearRowColumnContent } from '@/registry/tiptap-ui/table-clear-row-column-content-button'

export const AttributeResetExample = () => {
  const [resetAttrs, setResetAttrs] = useState(false)

  const { handleClear, label, Icon } = useTableClearRowColumnContent({
    index: 0,
    orientation: 'row',
    resetAttrs,
    onCleared: () => {
      console.log(`Row cleared with resetAttrs: ${resetAttrs}`)
    },
  })

  return (
    <div>
      <label>
        <input
          type="checkbox"
          checked={resetAttrs}
          onChange={(e) => setResetAttrs(e.target.checked)}
        />
        Reset cell attributes (background color, alignment)
      </label>
      <button onClick={handleClear}>
        <Icon />
        {label}
      </button>
    </div>
  )
}
```

## Behavior

### Clear Operation Modes

The component operates in three modes based on parameters:

#### 1. Clear Specific Row/Column

When `index` and `orientation` are provided:

- Clears all cells in the specified row or column
- Processes cells in reverse order to maintain correct positions
- Optionally resets cell attributes to defaults

#### 2. Clear Selected Cells

When no `index` or `orientation` is provided:

- Clears content from currently selected cell(s)
- Works with both single cell and multi-cell selections (CellSelection)
- Respects the current selection state

#### 3. Smart Clear

The hook automatically determines the appropriate mode:

- Uses `index` and `orientation` if provided
- Falls back to current selection otherwise
- Intelligently adapts to the editing context

### Attribute Reset

When `resetAttrs` is set to `true`, the following attributes are reset to defaults:

```typescript
{
  backgroundColor: null,      // Removes background color
  nodeVerticalAlign: null,    // Resets to default vertical alignment
  nodeTextAlign: null,        // Resets to default text alignment
}
```

This is useful for:

- Removing custom styling when clearing content
- Resetting cells to their default appearance
- Bulk style cleanup operations

### Empty Cell Detection

The component intelligently detects whether cells have content:

- **Non-empty cells**: Have text content or child nodes
- **Empty cells**: Contain only empty paragraph nodes or no content
- Only non-empty cells are processed during clear operations

### Availability Check

The button determines availability based on:

- **Editor state** - Editor must be editable
- **Required extensions** - Table extension must be available
- **Cell content** - At least one cell must have content to clear
- **Selection validity** - Cursor must be in a table cell or valid selection exists

When `hideWhenUnavailable` is true, the button hides when these conditions aren't met.

## Requirements

### Dependencies

- `@tiptap/react` - Core Tiptap React integration
- `@tiptap/pm/tables` - ProseMirror table utilities (CellSelection, deleteCellSelection, cellAround)
- `react` - React framework

### Required Extensions

- `table` - Table node extension (TableKit)

### Required Components (for full example)

- `Button` (UI primitive) - Base button component
- `Menu`, `MenuButton`, `MenuContent`, `MenuItem` (UI primitives) - Menu components
- `TableHandle` - For hover-based table manipulation

### Referenced Utilities

- `useTiptapEditor` (hook) - Custom hook for editor instance management
- `tiptap-table-utils` (lib) - Utility functions:
  - `getTable` - Get table node information
  - `getTableSelectionType` - Determine selection type
  - `getRowOrColumnCells` - Retrieve cells in a row or column
  - `setCellAttr` - Set cell attributes
  - `isCellEmpty` - Check if a cell has content

### Icons

- `SquareXIcon` - X mark in square icon for the clear action

## Related Components

- **[Table Handle](/ui-components/components/table-handle)** - For row/column manipulation handles
- **[Table Delete Row/Column Button](/ui-components/components/table-delete-row-column-button)** - For deleting entire rows/columns
- **[Table Merge/Split Cell Button](/ui-components/components/table-merge-split-cell-button)** - For cell structure operations
- **[Table Cell Handle Menu](/ui-components/components/table-cell-handle-menu)** - Contextual menu that includes clear action
- **[Table Node (TableKit)](/ui-components/node-components/table-node)** - The core table node extension
