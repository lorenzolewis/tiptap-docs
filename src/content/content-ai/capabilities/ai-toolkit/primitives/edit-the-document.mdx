---
title: Edit the document
meta:
  title: Edit the document | Tiptap Content AI
  description: Insert Text/HTML/JSON and apply precise HTML diffs with review options.
  category: Content AI
---

The AI Toolkit provides primitives to edit the document in different formats.

## `insertText`

Insert plain text into the editor.

### Parameters

- `content` (`string`): Text to insert
- `options?` (`InsertTextOptions`): Options for the `insertText` method
  - `position?` (`InsertPosition`): Where to insert. One of `Range`, `number`, `'selection'`, `'selectionStart'`, `'selectionEnd'`, `'document'`, `'documentStart'`, `'documentEnd'`. Default `'selection'`
  - `reviewOptions?` (`ReviewOptions`): Control preview/review
    - `mode?` (`'disabled' | 'review' | 'preview'`)
    - `showDiff?` (`boolean`)
    - `displayOptions?` (`DisplayOptions<{ suggestion: Suggestion }>`)

### Returns

- `void`

### Example

```ts
// Insert text at the current selection and show review markers
toolkit.insertText('AI content', { position: 'selection', reviewOptions: { mode: 'review' } })
```

## `insertHtml`

Insert HTML into the editor.

### Parameters

- `content` (`string`): HTML to insert
- `options?` (`InsertHtmlOptions`): Options for the `insertHtml` method
  - `position?` (`InsertPosition`): Where to insert. One of `Range`, `number`, `'selection'`, `'selectionStart'`, `'selectionEnd'`, `'document'`, `'documentStart'`, `'documentEnd'`. Default `'selection'`
  - `reviewOptions?` (`ReviewOptions`): Control preview/review
    - `mode?` (`'disabled' | 'review' | 'preview'`)
    - `showDiff?` (`boolean`)
    - `displayOptions?` (`DisplayOptions<{ suggestion: Suggestion }>`)

### Returns

- `void`

### Example

```ts
// Insert a paragraph after the selection
toolkit.insertHtml('<p>AI paragraph</p>', { position: 'selectionEnd' })
```

## `insertJson`

Insert ProseMirror JSON into the editor.

### Parameters

- `content` (`any`): ProseMirror JSON node or slice
- `options?` (`InsertJsonOptions`): Options for the `insertJson` method
  - `position?` (`InsertPosition`): Where to insert. One of `Range`, `number`, `'selection'`, `'selectionStart'`, `'selectionEnd'`, `'document'`, `'documentStart'`, `'documentEnd'`. Default `'selection'`
  - `reviewOptions?` (`ReviewOptions`): Control preview/review
    - `mode?` (`'disabled' | 'review' | 'preview'`)
    - `showDiff?` (`boolean`)
    - `displayOptions?` (`DisplayOptions<{ suggestion: Suggestion }>`)

### Returns

- `void`

### Example

```ts
// Insert a paragraph node
toolkit.insertJson({ type: 'paragraph', content: [{ type: 'text', text: 'AI' }] })
```

## `applyHtmlDiff`

Apply context-aware HTML diffs to a chunk or the whole document.

### Parameters

- `diffs` (`HtmlDiff[]`): Each item has:
  - `context?` (`string`): Text/HTML that appears before `delete` to anchor the change
  - `delete` (`string`): Exact HTML to remove
  - `insert` (`string`): HTML to insert
- `options?` (`ApplyHtmlDiffOptions`): Options for the `applyHtmlDiff` method
  - `chunkIndex?` (`number`): Target chunk index. Default `0`
  - `reviewOptions?` (`Omit<ReviewOptions, 'showDiff'>`): Review behavior. Note: diff previews force `showAsDiff` in compare mode
    - `mode?` (`'disabled' | 'review' | 'preview'`)
    - `displayOptions?` (`DisplayOptions<{ suggestion: Suggestion }>`)

### Returns (`ApplyHtmlDiffResult`)

- `errorMessage` (`string | null`): `null` when all diffs applied; error message otherwise

### Example

```ts
// Replace "fine" with emphasized "great" in the first chunk
toolkit.applyHtmlDiff([{ context: '<p>This is ', delete: 'fine', insert: '<em>great</em>' }])
```
