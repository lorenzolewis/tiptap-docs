---
title: Markdown API
tags:
  - type: beta
meta:
  title: Markdown API | Tiptap Editor Docs
  description: Comprehensive guide to the Markdown API in Tiptap. Learn how to parse, serialize, and customize markdown content in your editor.
  category: Editor
---

Complete API documentation for the Tiptap Markdown extension.

---

## Extension Configuration

### `Markdown.configure(options)`

Configure the Markdown extension with custom options.

```typescript
Markdown.configure({
  indentation?: {
    style?: 'space' | 'tab'
    size?: number
  },
  marked?: typeof marked,
  markedOptions?: MarkedOptions,
})
```

#### Parameters

- **`indentation`** (optional)

  - `style`: Indentation character: `'space'` or `'tab'`. Default: `'space'`
  - `size`: Number of indentation characters. Default: `2`

- **`marked`** (optional)

  - Custom marked.js instance to use for parsing

- **`markedOptions`** (optional)
  - Options passed to `marked.setOptions()`
  - See [marked documentation](https://marked.js.org/using_advanced#options)

#### Example

```typescript
import { Markdown } from '@tiptap/markdown'

const markdown = Markdown.configure({
  indentation: {
    style: 'space',
    size: 4,
  },
  markedOptions: {
    gfm: true,
    breaks: false,
  },
})
```

---

## Editor Methods & Properties

### `editor.getMarkdown()`

Serialize the current editor content to markdown.

```typescript
editor.getMarkdown(): string
```

#### Returns

`string` - The editor content as markdown

#### Example

```typescript
const markdown = editor.getMarkdown()
console.log(markdown)
// # Hello World
//
// This is **bold** text.
```

---

### `editor.markdown`

Access the MarkdownManager instance.

```typescript
editor.markdown: MarkdownManager
```

#### Example

```typescript
// Parse markdown to JSON
const json = editor.markdown.parse('# Hello')

// Serialize JSON to markdown
const markdown = editor.markdown.serialize(json)

// Access marked instance
const marked = editor.markdown.instance
```

---

## Editor Options

### `contentAsMarkdown`

Parse initial content as markdown when creating the editor.

```typescript
new Editor({
  content: string,
  contentAsMarkdown?: boolean,
})
```

#### Parameters

- **`content`**: The initial content string (markdown)
- **`contentAsMarkdown`**: Set to `true` to parse content as markdown

#### Example

```typescript
const editor = new Editor({
  extensions: [StarterKit, Markdown],
  content: '# Hello World\n\nThis is **markdown**!',
  contentAsMarkdown: true,
})
```

---

## Command Options

### `setContent(content, options)`

Set editor content from markdown.

```typescript
editor.commands.setContent(
  content: string,
  options?: {
    asMarkdown?: boolean,
    emitUpdate?: boolean,
    parseOptions?: ParseOptions,
  }
): boolean
```

#### Parameters

- **`content`**: The markdown string to set
- **`options.asMarkdown`**: Set to `true` to parse as markdown
- **`options.emitUpdate`**: Whether to emit an update event (default: `true`)
- **`options.parseOptions`**: Additional parse options

#### Returns

`boolean` - Whether the command succeeded

#### Example

```typescript
editor.commands.setContent('# New Content\n\nThis is **bold**.', { asMarkdown: true })
```

---

### `insertContent(value, options)`

Insert markdown content at the current selection.

```typescript
editor.commands.insertContent(
  value: string,
  options?: {
    asMarkdown?: boolean,
    parseOptions?: ParseOptions,
    updateSelection?: boolean,
  }
): boolean
```

#### Parameters

- **`value`**: The markdown string to insert
- **`options.asMarkdown`**: Set to `true` to parse as markdown
- **`options.updateSelection`**: Whether to update selection after insert
- **`options.parseOptions`**: Additional parse options

#### Returns

`boolean` - Whether the command succeeded

#### Example

```typescript
editor.commands.insertContent('**Bold text** at cursor', { asMarkdown: true })
```

---

### `insertContentAt(position, value, options)`

Insert markdown content at a specific position.

```typescript
editor.commands.insertContentAt(
  position: number | Range,
  value: string,
  options?: {
    asMarkdown?: boolean,
    parseOptions?: ParseOptions,
    updateSelection?: boolean,
  }
): boolean
```

#### Parameters

- **`position`**: Position (number) or range (`{ from, to }`)
- **`value`**: The markdown string to insert
- **`options.asMarkdown`**: Set to `true` to parse as markdown
- **`options.updateSelection`**: Whether to update selection after insert
- **`options.parseOptions`**: Additional parse options

#### Returns

`boolean` - Whether the command succeeded

#### Example

```typescript
// Insert at position
editor.commands.insertContentAt(10, '## Heading', { asMarkdown: true })

// Replace range
editor.commands.insertContentAt({ from: 10, to: 20 }, '**replacement**', { asMarkdown: true })
```

---

## MarkdownManager

The MarkdownManager handles parsing and serialization of markdown.

### Constructor

```typescript
new MarkdownManager(options?: {
  marked?: typeof marked,
  markedOptions?: MarkedOptions,
  indentation?: {
    style?: 'space' | 'tab',
    size?: number,
  },
})
```

### Properties

#### `instance`

The underlying marked.js instance.

```typescript
manager.instance: typeof marked
```

#### `indentCharacter`

The configured indentation character (`' '` or `'\t'`).

```typescript
manager.indentCharacter: string
```

#### `indentString`

The full indentation string (character repeated `size` times).

```typescript
manager.indentString: string
```

### Methods

#### `parse(markdown)`

Parse markdown string to Tiptap JSON.

```typescript
manager.parse(markdown: string): JSONContent
```

**Parameters:**

- `markdown`: The markdown string to parse

**Returns:**

- `JSONContent` - Tiptap JSON document

**Example:**

```typescript
const json = editor.markdown.parse('# Hello **World**')

console.log(json)
// {
//   type: 'doc',
//   content: [
//     {
//       type: 'heading',
//       attrs: { level: 1 },
//       content: [
//         { type: 'text', text: 'Hello ' },
//         {
//           type: 'text',
//           text: 'World',
//           marks: [{ type: 'bold' }],
//         },
//       ],
//     },
//   ],
// }
```

---

#### `serialize(json)`

Serialize Tiptap JSON to markdown.

```typescript
manager.serialize(doc: JSONContent): string
```

**Parameters:**

- `doc`: Tiptap JSON document or node

**Returns:**

- `string` - Markdown string

**Example:**

```typescript
const json = {
  type: 'doc',
  content: [
    {
      type: 'heading',
      attrs: { level: 1 },
      content: [{ type: 'text', text: 'Hello' }],
    },
  ],
}

const markdown = editor.markdown.serialize(json)
console.log(markdown)
// # Hello
```

---

#### `registerExtension(extension)`

Register a Tiptap extension with the manager.

```typescript
manager.registerExtension(extension: AnyExtension): void
```

This is called automatically by the Markdown extension for all extensions in the editor.

---

#### `hasMarked()`

Check if a marked.js instance is available.

```typescript
manager.hasMarked(): boolean
```

**Returns:**

- `boolean` - Whether marked.js is available

---

## Parse Helpers

Helpers provided to extension parse handlers.

### `parseInline(tokens)`

Parse inline tokens (bold, italic, links, etc.).

```typescript
helpers.parseInline(tokens: MarkdownToken[]): JSONContent[]
```

**Parameters:**

- `tokens`: Array of inline markdown tokens

**Returns:**

- `JSONContent[]` - Array of Tiptap JSON nodes

**Example:**

```typescript
parse: (token, helpers) => {
  return {
    type: 'paragraph',
    content: helpers.parseInline(token.tokens || []),
  }
}
```

---

### `parseChildren(tokens)`

Parse block-level child tokens.

```typescript
helpers.parseChildren(tokens: MarkdownToken[]): JSONContent[]
```

**Parameters:**

- `tokens`: Array of block-level markdown tokens

**Returns:**

- `JSONContent[]` - Array of Tiptap JSON nodes

**Example:**

```typescript
parse: (token, helpers) => {
  return {
    type: 'blockquote',
    content: helpers.parseChildren(token.tokens || []),
  }
}
```

---

### `createTextNode(text, marks)`

Create a text node with optional marks.

```typescript
helpers.createTextNode(
  text: string,
  marks?: Array<{ type: string; attrs?: any }>
): JSONContent
```

**Parameters:**

- `text`: The text content
- `marks`: Optional array of marks to apply

**Returns:**

- `JSONContent` - Text node

**Example:**

```typescript
parse: (token, helpers) => {
  return helpers.createTextNode('Hello', [{ type: 'bold' }, { type: 'italic' }])
}
```

---

### `createNode(type, attrs, content)`

Create a node with type, attributes, and content.

```typescript
helpers.createNode(
  type: string,
  attrs?: Record<string, any>,
  content?: JSONContent[]
): JSONContent
```

**Parameters:**

- `type`: Node type name
- `attrs`: Optional node attributes
- `content`: Optional node content

**Returns:**

- `JSONContent` - The created node

**Example:**

```typescript
parse: (token, helpers) => {
  return helpers.createNode('heading', { level: 2 }, [helpers.createTextNode('Title')])
}
```

---

### `applyMark(markType, content, attrs)`

Apply a mark to content (for inline formatting).

```typescript
helpers.applyMark(
  markType: string,
  content: JSONContent[],
  attrs?: Record<string, any>
): MarkdownParseResult
```

**Parameters:**

- `markType`: Mark type name
- `content`: Content to apply mark to
- `attrs`: Optional mark attributes

**Returns:**

- `MarkdownParseResult` - Mark result object

**Example:**

```typescript
parse: (token, helpers) => {
  const content = helpers.parseInline(token.tokens || [])
  return helpers.applyMark('bold', content)
}
```

---

## Render Helpers

Helpers provided to extension render handlers.

### `renderChildren(nodes, separator)`

Render child nodes to markdown.

```typescript
helpers.renderChildren(
  nodes: JSONContent | JSONContent[],
  separator?: string
): string
```

**Parameters:**

- `nodes`: Node or array of nodes to render
- `separator`: Optional separator between nodes (default: `''`)

**Returns:**

- `string` - Rendered markdown

**Example:**

```typescript
render: (node, helpers) => {
  const content = helpers.renderChildren(node.content || [])
  return `> ${content}\n\n`
}
```

---

### `indent(content)`

Add indentation to content.

```typescript
helpers.indent(content: string): string
```

**Parameters:**

- `content`: Content to indent

**Returns:**

- `string` - Indented content

**Example:**

```typescript
render: (node, helpers) => {
  const content = helpers.renderChildren(node.content || [])
  return helpers.indent(content)
}
```

---

### `wrapInBlock(prefix, content)`

Wrap content with a prefix on each line.

```typescript
helpers.wrapInBlock(
  prefix: string,
  content: string
): string
```

**Parameters:**

- `prefix`: Prefix to add to each line
- `content`: Content to wrap

**Returns:**

- `string` - Wrapped content

**Example:**

```typescript
render: (node, helpers) => {
  const content = helpers.renderChildren(node.content || [])
  return helpers.wrapInBlock('> ', content) + '\n\n'
}
```

---

## Types

### `MarkdownExtensionOptions`

Options for configuring the Markdown extension.

```typescript
type MarkdownExtensionOptions = {
  indentation?: {
    style?: 'space' | 'tab'
    size?: number
  }
  marked?: typeof marked
  markedOptions?: MarkedOptions
}
```

---

### `MarkdownExtensionSpec`

Configuration for markdown support in extensions.

```typescript
type MarkdownExtensionSpec = {
  parseName?: string
  renderName?: string
  markdownName?: string // Legacy
  parseMarkdown?: (token: MarkdownToken, helpers: MarkdownParseHelpers) => MarkdownParseResult
  renderMarkdown?: (node: JSONContent, helpers: MarkdownRendererHelpers, context: RenderContext) => string
  isIndenting?: boolean
  tokenizer?: MarkdownTokenizer
}
```

---

### `MarkdownToken`

Token structure from marked.js.

```typescript
type MarkdownToken = {
  type: string
  raw?: string
  text?: string
  tokens?: MarkdownToken[]
  [key: string]: any
}
```

---

### `MarkdownParseHelpers`

Helpers passed to parse handlers.

```typescript
type MarkdownParseHelpers = {
  parseInline: (tokens: MarkdownToken[]) => JSONContent[]
  parseChildren: (tokens: MarkdownToken[]) => JSONContent[]
  createTextNode: (text: string, marks?: Array<{ type: string; attrs?: any }>) => JSONContent
  createNode: (type: string, attrs?: any, content?: JSONContent[]) => JSONContent
  applyMark: (markType: string, content: JSONContent[], attrs?: any) => MarkdownParseResult
}
```

---

### `MarkdownRendererHelpers`

Helpers passed to render handlers.

```typescript
type MarkdownRendererHelpers = {
  renderChildren: (nodes: JSONContent | JSONContent[], separator?: string) => string
  wrapInBlock: (prefix: string, content: string) => string
  indent: (content: string) => string
}
```

---

### `RenderContext`

Context information passed to render handlers.

```typescript
type RenderContext = {
  index: number // Node index in parent
  level: number // Nesting level
  parentType?: string // Parent node type
  meta: Record<string, any> // Custom metadata
}
```

---

### `MarkdownTokenizer`

Custom tokenizer for marked.js.

```typescript
type MarkdownTokenizer = {
  name: string
  level?: 'block' | 'inline'
  start?: (src: string) => number | undefined
  tokenize: (src: string, tokens: MarkdownToken[], lexer: MarkdownLexerConfiguration) => MarkdownToken | undefined
}
```

---

### `MarkdownLexerConfiguration`

Lexer helpers for custom tokenizers.

```typescript
type MarkdownLexerConfiguration = {
  inlineTokens: (src: string) => MarkdownToken[]
  blockTokens: (src: string) => MarkdownToken[]
}
```

---

### `MarkdownParseResult`

Result type for parse handlers.

```typescript
type MarkdownParseResult = JSONContent | JSONContent[] | { mark: string; content: JSONContent[]; attrs?: any } | null
```

---

### `ExtendableMarkdownSpec`

Markdown configuration in extensions.

```typescript
type ExtendableMarkdownSpec = {
  name?: string
  parseName?: string
  renderName?: string
  parse?: (token: MarkdownToken, helpers: MarkdownParseHelpers) => MarkdownParseResult
  render?: (node: JSONContent, helpers: MarkdownRendererHelpers, context: RenderContext) => string
  isIndenting?: boolean
  tokenizer?: MarkdownTokenizer
}
```

---

## Related Documentation

- [Installation](./installation) - Setup and configuration
- [Basic Usage](./basic-usage) - Getting started
- [Advanced Customization](./advanced) - Custom parsing and rendering
- [Custom Tokenizers](./custom-tokenizers) - Extend markdown syntax
- [Extension Integration](./extension-integration) - Add markdown to extensions
- [Examples](./examples) - Real-world examples