---
title: Create a Highlight Mark with Markdown Support
tags:
  - type: beta
meta:
  title: Create a Highlight Mark with Markdown | Tiptap Editor Docs
  description: Learn how to create a custom Highlight mark in Tiptap that supports Markdown syntax for enhanced text formatting.
  category: Editor
---

Add a custom highlight mark with `==syntax==`:

```typescript
import { Mark } from '@tiptap/core'

export const Highlight = Mark.create({
  name: 'highlight',

  addOptions() {
    return {
      HTMLAttributes: {},
    }
  },

  parseHTML() {
    return [{ tag: 'mark' }]
  },

  renderHTML({ HTMLAttributes }) {
    return ['mark', HTMLAttributes, 0]
  },

  markdown: {
    name: 'highlight',

    // Custom tokenizer to recognize ==text== syntax
    tokenizer: {
      name: 'highlight',
      level: 'inline', // This is an inline element
      start: (src) => src.indexOf('=='), // Optimize: where to start looking
      tokenize: (src, tokens, lexer) => {
        // Match ==text== at the start of the remaining source
        const match = /^==([^=]+)==/.exec(src)
        if (!match) return undefined

        return {
          type: 'highlight', // Token type (matches markdown.name)
          raw: match[0], // Full matched string: ==text==
          text: match[1], // Content inside: text
          tokens: lexer.inlineTokens(match[1]), // Parse nested inline formatting
        }
      },
    },

    // Parse markdown token to Tiptap JSON
    parse: (token, helpers) => {
      const content = helpers.parseInline(token.tokens || [])
      // Apply the 'highlight' mark to the parsed content
      return helpers.applyMark('highlight', content)
    },

    // Render Tiptap node back to markdown
    render: (node, helpers) => {
      const content = helpers.renderChildren(node.content || [])
      return `==${content}==` // Wrap content in == syntax
    },
  },

  addCommands() {
    return {
      toggleHighlight:
        () =>
        ({ commands }) => {
          return commands.toggleMark(this.name)
        },
    }
  },
})
```

Usage:

```typescript
const editor = new Editor({
  extensions: [StarterKit, Markdown, Highlight],
})

editor.commands.setContent('This is ==highlighted== text', { asMarkdown: true })
```
